var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),WSB;(function(n){var i=function(t){function i(n){n===void 0&&(n="DFLS");var i=t.call(this,n)||this;return i.dataSourceType=n,i}return __extends(i,t),i.prototype.getName=function(){return this.dataSourceType=="DFLS"?"CuratedSuggestionsDataProvider":"CuratedSettingsDataProvider"},i.prototype.fetch=function(t,i,r,u){var f=this;t.enabledDataSources[this.dataSourceType]&&(this.dataSourceType=="DFLS"?n.Async.safeChain("CuratedSuggestionsFetch",function(){return SearchAppWrapper.CortanaApp.queryFormulationView.deviceSearch.getAllAppsAsync()},function(n){return i(f.dataSourceType,n,undefined)},null,u):this.dataSourceType=="CUSE"&&i(this.dataSourceType,null,undefined))},i}(n.JsonDataProvider),t;n.CuratedSuggestionsDataProvider=i;t=function(){function t(n){this.dataSourceType=n!==null&&n!==void 0?n:"DFLS"}return t.prototype.parse=function(n,t,i,r,u,f){var e=[];this.dataSourceType=="DFLS"?this.parseCuratedSuggestions(n,t,i,r,e):this.dataSourceType=="CUSE"&&this.parseCuratedSettings(n,t,i,r,e);f(i,e,undefined)},t.prototype.addSettingSuggestion=function(t,i,r,u,f,e,o){var h="DFLS",s=n.createSuggestion(f,r,null,{type:u==="&#xE771"?1:2,content:u},h,f.fullPartialQuery,n.InstrumentedItem.createInstrumentedItem(e,h),2,e,n.localDataSourceMayContainPII(this.dataSourceType));s.click=function(){return n.Host.launchUri(i,!0)};s.tooltip=s.text;s.reactKey=h+s.text;s.query=s.text;s.staticGroupType=o;t.push(s);s.narratorText=s.text},t.prototype.addAppSuggestion=function(t,i,r,u,f){var h=this,o,s,e;i&&(o=i[r],o)&&(s=n.getIcon(o,o.id+"_"+o.filePath+"_"+o.displayName,"curatedSuggestion",!0,!1,null,o.isImmersive&&o.logoBackgroundColor,0),e=n.createSuggestion(u,o.displayName,s,null,"DFLS",u.fullPartialQuery,n.InstrumentedItem.createInstrumentedItem(f,"PP"),2,f,n.localDataSourceMayContainPII(this.dataSourceType)),e.deviceItem=o,e.click=function(){return n.Host.launchAppItem(o,h.dataSourceType)},e.tooltip=e.text,e.reactKey="PP"+e.text,e.query=e.text,e.staticGroupType=n.GroupType.CuratedSuggestions,e.narratorText=e.text,t.push(e))},t.prototype.parseCuratedSettings=function(t,i,r,u,f){this.addSettingSuggestion(f,"ms-settings:quiethours",n.Host.getLocString("FocusSettingSuggestion"),null,t,i,n.GroupType.CuratedSettings);this.addSettingSuggestion(f,"ms-settings:sound",n.Host.getLocString("SoundSettingsSuggestion"),null,t,i,n.GroupType.CuratedSettings);this.addSettingSuggestion(f,"ms-settings:bluetooth",n.Host.getLocString("BluetoothSettingsSuggestion"),null,t,i,n.GroupType.CuratedSettings);this.addSettingSuggestion(f,"ms-settings:display",n.Host.getLocString("DisplaySettingsSuggestion"),null,t,i,n.GroupType.CuratedSettings);this.addSettingSuggestion(f,"ms-settings:colors",n.Host.getLocString("ColorSettingsSuggestion"),null,t,i,n.GroupType.CuratedSettings);this.addSettingSuggestion(f,"ms-settings:search-permissions",n.Host.getLocString("SearchSettings"),null,t,i,n.GroupType.CuratedSettings)},t.prototype.parseCuratedSuggestions=function(t,i,r,u,f){n.config.useCobaltCSS?(this.addAppSuggestion(f,u,"MicrosoftWindows.Client.CBS_cw5n1h2txyewy!WebExperienceHost",t,i),this.addAppSuggestion(f,u,"MSEdge",t,i),this.addAppSuggestion(f,u,"Microsoft.Getstarted_8wekyb3d8bbwe!App",t,i),this.addSettingSuggestion(f,"ms-settings:emailandaccounts",n.Host.getLocString("EmailSettingSuggestion"),"&#xE715",t,i,n.GroupType.CuratedSuggestions),this.addAppSuggestion(f,u,"Microsoft.ScreenSketch_8wekyb3d8bbwe!App",t,i),this.addSettingSuggestion(f,"ms-settings:windowsupdate",n.Host.getLocString("UpdateSettingSuggestion"),"&#xE895",t,i,n.GroupType.CuratedSuggestions),this.addAppSuggestion(f,u,"Microsoft.Paint_8wekyb3d8bbwe!App",t,i),this.addSettingSuggestion(f,"ms-settings:themes",n.Host.getLocString("ThemeSettingSuggestion"),"&#xE771",t,i,n.GroupType.CuratedSuggestions),this.addAppSuggestion(f,u,"Microsoft.SkyDrive.Desktop",t,i),this.addAppSuggestion(f,u,"Microsoft.WindowsCalculator_8wekyb3d8bbwe!App",t,i),this.addSettingSuggestion(f,"ms-settings:bluetooth",n.Host.getLocString("BluetoothSettingSuggestion"),"&#xE772",t,i,n.GroupType.CuratedSuggestions),this.addAppSuggestion(f,u,"microsoft.windowscommunicationsapps_8wekyb3d8bbwe!microsoft.windowslive.mail",t,i),this.addAppSuggestion(f,u,"Microsoft.Windows.Explorer",t,i)):(this.addAppSuggestion(f,u,"MSEdge",t,i),this.addAppSuggestion(f,u,"Microsoft.Getstarted_8wekyb3d8bbwe!App",t,i),this.addSettingSuggestion(f,"ms-settings:emailandaccounts",n.Host.getLocString("EmailSettingSuggestion"),"&#xE715",t,i,n.GroupType.CuratedSuggestions),this.addAppSuggestion(f,u,"{1AC14E77-02E7-4E5D-B744-2EB1AE5198B7}\\SnippingTool.exe",t,i),this.addSettingSuggestion(f,"ms-settings:windowsupdate",n.Host.getLocString("UpdateSettingSuggestion"),"&#xE895",t,i,n.GroupType.CuratedSuggestions),this.addAppSuggestion(f,u,"Microsoft.Windows.Computer",t,i),this.addAppSuggestion(f,u,"{1AC14E77-02E7-4E5D-B744-2EB1AE5198B7}\\mspaint.exe",t,i),this.addSettingSuggestion(f,"ms-settings:themes",n.Host.getLocString("ThemeSettingSuggestion"),"&#xE771",t,i,n.GroupType.CuratedSuggestions),this.addAppSuggestion(f,u,"Microsoft.SkyDrive.Desktop",t,i),this.addAppSuggestion(f,u,"{1AC14E77-02E7-4E5D-B744-2EB1AE5198B7}\\notepad.exe",t,i),this.addAppSuggestion(f,u,"Microsoft.Windows.Explorer",t,i),this.addAppSuggestion(f,u,"Microsoft.GetHelp_8wekyb3d8bbwe!App",t,i),this.addAppSuggestion(f,u,"microsoft.windowscommunicationsapps_8wekyb3d8bbwe!microsoft.windowslive.mail",t,i),this.addAppSuggestion(f,u,"windows.immersivecontrolpanel_cw5n1h2txyewy!microsoft.windows.immersivecontrolpanel",t,i))},t}();n.CuratedSuggestionsParser=t})(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t="QSCH",u=function(r){function u(){var t=r.call(this,"QSCH")||this;return t._lastTypedQuery=new i,(n.TestHookUrlParameters===null||n.TestHookUrlParameters===void 0?void 0:n.TestHookUrlParameters.mockLastQuery)&&t._lastTypedQuery.setQuery(n.TestHookUrlParameters.mockLastQuery),n.Host.bindDismissed(function(n){n&&n.queryToFetch&&t._lastTypedQuery.setQuery(n.fullPartialQuery)}),t}return __extends(u,r),u.prototype.getName=function(){return"QuickSearchSuggestionsDataProvider"},u.prototype.fetch=function(n,i){if(n.enabledDataSources[t]){var r={};r=u.getQuickSearchResponse(r);i(t,r,undefined)}},u.getQuickSearchResponse=function(t){var r=n.ScopeConfig[n.Scope.Web]&&n.ScopeConfig[n.Scope.Web].prefixes?n.ScopeConfig[n.Scope.Web].prefixes[0]:null,u=n.Host.getLanguage().toLowerCase(),i;return n.shouldEnableQuickSearches(u)&&(i=[],t.quickAnswers=n.getQuickAnswersTranslatedSuggestions(u),t.quickAnswers.forEach(function(n){r?i.push(r.toLowerCase()+": "+n.query):i.push(n.query)})),t},u}(n.JsonDataProvider),i,r;n.QuickSearchSuggestionsDataProvider=u;i=function(){function t(){this.LastTypedQueryTTLms=6e5}return t.prototype.getQuery=function(){var t=n.getCurrentTime();return this._lastTypedQueryTimeStamp&&t-this._lastTypedQueryTimeStamp<this.LastTypedQueryTTLms?this._lastTypedQuery:(this._lastTypedQuery=null,this._lastTypedQueryTimeStamp=null,null)},t.prototype.setQuery=function(t){this._lastTypedQuery=t;this._lastTypedQueryTimeStamp=n.getCurrentTime()},t}();r=function(){function t(n){this._navigationHelper=n;t.navigationHelper=this._navigationHelper}return t.prototype.parse=function(n,i,r,u,f,e){var o=[];t.parseQuickSearchSuggestions(n,i,r,u,o);e(r,o,undefined)},t.parseQuickSearchSuggestions=function(i,r,u,f,e){var a=n.ScopeConfig[n.Scope.Web]&&n.ScopeConfig[n.Scope.Web].prefixes?n.ScopeConfig[n.Scope.Web].prefixes[0]:null,o,v,c,l,y;if(f&&f.resumeSearchQuery){var h="RSSG",s=n.createSuggestion(i,n.Host.getLocString("RedoLastSearch"),null,{type:2,content:"&#xE81C"},h,f.resumeSearchQuery,n.InstrumentedItem.createInstrumentedItemForReformulation(r,h),998,r,n.localDataSourceMayContainPII(u)),p={verb:"RemoveFromDeviceHistory",displayName:n.Host.getLocString("RemoveFromDeviceHistory"),executeSync:f.resumeSearchRemoveAction,icon:{content:"&#xE711",type:2}};s.tooltip=n.Host.getLocString("RedoYourLastSearchTooltip",f.resumeSearchQuery);n.setExtraVerbs(s,function(){return[p]},!1);s.click=function(){n.Host.reformulate(f.resumeSearchQuery);n.Host.setFocusInSearchBox(null,"".concat(h,".click"))};s.reactKey=h+f.resumeSearchQuery;e.push(s)}if(f&&f.quickAnswers)for(o="QSSG",v=function(f){var h=n.config.quickSearchToMsnMarkets[n.getCurrentLanguage()]&&f.msnUrl,c=(f.type===2||f.type===1)&&n.config.enableShopSH1,l=n.config.quickSearchToEdge||h||c,s=n.createSuggestion(i,f.text?f.text:f.query,null,n.config.quickAnswerWeb?{type:2,content:"&#xE721"}:f.icon,o,f.query,l?n.InstrumentedItem.createInstrumentedItem(r,o):n.InstrumentedItem.createInstrumentedItemForReformulation(r,o),l?h?20:c?15:0:998,r,n.localDataSourceMayContainPII(u));s.tooltip=h?f.msnTooltip:f.tooltip;s.click=function(){var e;if(h)n.Host.launchUri(f.msnUrl);else if(c&&s.handoffType===15){var v="",r=n.Host.getLanguage().toLowerCase(),y="entrypoint=wsb&setmkt="+r,u=s.query.toLowerCase(),p=n.encodeQueryParameter(u);v=(r=="en-au"||r=="en-ca"||r=="en-gb"||r=="en-us")&&u==="valentine's day gifts"?"/shop/valentines-day?":u==="geschenke zum valentinstag"?"/shop/valentins-tag?":u==="cadeaux pour la saint-valentin"?"/shop/saintvalentin?":"/shop?q="+p;v+="&"+y;n.Host.launchSearch(f.query,t.navigationHelper.getSearchUrl(f.query,f.query,"SW",v,15,n.mapOSFormCode("WNSGPH")),s.useRaf)}else l?n.Host.launchSearch(f.query,t.navigationHelper.getSearchUrl(f.query,f.query,"SW",null,0),s.useRaf):(e=f.query,a&&(e=a.toLowerCase()+": "+e),n.Host.reformulateOnSuggestionClick(e,i.isSearchHomeZI,o,f.serpURLParams),n.Host.setFocusInSearchBox(null,"".concat(o,".click")))};s.reactKey=o+f.query;e.push(s)},c=0,l=f.quickAnswers;c<l.length;c++)y=l[c],v(y)},t}();n.QuickSearchSuggestionsParser=r}(WSB||(WSB={})),function(n){var r={type:0,content:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTg0IiBoZWlnaHQ9IjE4NCIgdmlld0JveD0iMCAwIDE4NCAxODQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xNjUuNTMxIDEzMS4zMDhDMTc1LjczMSAxMzEuMzA4IDE4NCAxMjMuMTY3IDE4NCAxMTMuMTI1QzE4NCAxMDMuMDgzIDE3NS43MzEgOTQuOTQxOCAxNjUuNTMxIDk0Ljk0MThDMTU1LjMzMiA5NC45NDE4IDE0Ny4wNjMgMTAzLjA4MyAxNDcuMDYzIDExMy4xMjVDMTQ3LjA2MyAxMjMuMTY3IDE1NS4zMzIgMTMxLjMwOCAxNjUuNTMxIDEzMS4zMDhaIiBmaWxsPSIjRkZFNUI5Ii8+CjxwYXRoIGQ9Ik0xMy41MjYxIDQ1Ljg5NDJDMjAuOTk2MyA0NS44OTQyIDI3LjA1MjEgMzkuOTkxNyAyNy4wNTIxIDMyLjcxMDZDMjcuMDUyMSAyNS40Mjk1IDIwLjk5NjMgMTkuNTI3IDEzLjUyNjEgMTkuNTI3QzYuMDU1ODIgMTkuNTI3IDAgMjUuNDI5NSAwIDMyLjcxMDZDMCAzOS45OTE3IDYuMDU1ODIgNDUuODk0MiAxMy41MjYxIDQ1Ljg5NDJaIiBmaWxsPSIjRkZFNUI5Ii8+CjxwYXRoIGQ9Ik0yNi42NjQyIDE2Mi4xNzNDMzAuNzE3NiAxNjIuMTczIDM0LjAwMzYgMTU4Ljk2OCAzNC4wMDM2IDE1NS4wMTZDMzQuMDAzNiAxNTEuMDYzIDMwLjcxNzYgMTQ3Ljg1OSAyNi42NjQyIDE0Ny44NTlDMjIuNjEwNyAxNDcuODU5IDE5LjMyNDcgMTUxLjA2MyAxOS4zMjQ3IDE1NS4wMTZDMTkuMzI0NyAxNTguOTY4IDIyLjYxMDcgMTYyLjE3MyAyNi42NjQyIDE2Mi4xNzNaIiBmaWxsPSIjRkZFNUI5Ii8+CjxwYXRoIGQ9Ik04OC43MjQxIDE2MC41NjNDMTMwLjU0NSAxNjAuNTYzIDE2NC40NDcgMTMwLjQwMiAxNjQuNDQ3IDkzLjE5NTRDMTY0LjQ0NyA1NS45ODkyIDEzMC41NDUgMjUuODI3NiA4OC43MjQxIDI1LjgyNzZDNDYuOTAzNCAyNS44Mjc2IDEzLjAwMSA1NS45ODkyIDEzLjAwMSA5My4xOTU0QzEzLjAwMSAxMzAuNDAyIDQ2LjkwMzQgMTYwLjU2MyA4OC43MjQxIDE2MC41NjNaIiBmaWxsPSIjRTFERkREIi8+CjxwYXRoIGQ9Ik0xMzUuNTIzIDU5LjcxN0MxMzUuMDc4IDMwLjE4NzkgMTE0LjgyOSA2LjU5NDM3IDkwLjE5NjYgNy4wMDUyOUM2NS41NjQzIDcuNDE2MjEgNDUuOTA4NyAzMS42ODMyIDQ2LjMwODIgNjEuMjEyMiIgZmlsbD0iIzNBMzEyRSIvPgo8cGF0aCBkPSJNMzQuMzM0MyAxMjIuNTQyQzMyLjk2NjIgMTIyLjIwNyAzMS43NzQ0IDEyMS4zNjkgMzAuOTk2IDEyMC4xOTVDMzAuMjE3NyAxMTkuMDIxIDI5LjkwOTggMTE3LjU5NyAzMC4xMzM4IDExNi4yMDdDMzMuMTI0NCAxMDAuNDMyIDQ0Ljk3MjUgNTUuNzEwNSA0OC45NTYyIDQzLjE1NDdDNjIuNzkwNCAtMC4zMTEzMjMgMTIwLjEyNSAtMC43MjIyMzggMTM1LjE0NiA0My43NzExQzEzOS4zODEgNTYuMzI2OSAxNDQuNTc1IDk5Ljc4MTUgMTQ3LjMxNCAxMTUuNjgyQzE0Ny41MTYgMTE2Ljk2OSAxNDcuMjU2IDExOC4yODcgMTQ2LjU3OSAxMTkuNDAxQzE0NS45MDIgMTIwLjUxNCAxNDQuODUyIDEyMS4zNTIgMTQzLjYxNiAxMjEuNzY2QzEyNi42NDMgMTI3LjkwNyA3OC40Mzk1IDEzNC43NTUgMzQuMzM0MyAxMjIuNTQyWiIgZmlsbD0iIzNBMzEyRSIvPgo8cGF0aCBkPSJNMTA4LjY2NSAxMDYuNjNDMTA4LjY2NSAxMDYuNjMgOTQuMzE3MyAxMjMuNTggNzQuNTQ3NSAxMDYuODdDNzQuNTQ3NSAxMDYuODcgNDguMjk0NCA5NC4zMTQgMzMuMDIyIDEzOC44M0M0Ni44Njc2IDE1Mi4xOTYgNjYuNjk0NCAxNjAuNTc1IDg4LjcyNDIgMTYwLjU3NUMxMTAuNDEyIDE2MC41NzUgMTI5LjkzIDE1Mi40NDcgMTQzLjc0MiAxMzkuNDY5QzEzOS4zOTMgMTI1LjEzMyAxMjkuNzEzIDEwNi40OTMgMTA4LjY2NSAxMDYuNjNaIiBmaWxsPSJ1cmwoI3BhaW50MF9yYWRpYWwpIi8+CjxwYXRoIGQ9Ik04MS41Nzg2IDk3LjI4MThDODEuNTc4NiA5MC4yNjIgODEuNDUzIDc1LjU5NDUgODEuNDUzIDc1LjU5NDVIMTAyLjg2NlY5Ni45ODUxQzEwMi45MDEgOTguOTY4IDEwMy40NTQgMTAwLjkwNyAxMDQuNDcxIDEwMi42MUMxMDUuNDg5IDEwNC4zMTIgMTA2LjkzNSAxMDUuNzE4IDEwOC42NjUgMTA2LjY4N0MxMDguNjY1IDEwNi42ODcgMTAxLjk1MyAxMTQuNjc3IDkyLjA1NyAxMTQuNjc3QzgyLjE2MDcgMTE0LjY3NyA3NC41ODE1IDEwNi44NyA3NC41ODE1IDEwNi44N0M3NC41ODE1IDEwNi44NyA4MS41Nzg2IDEwNC4yOSA4MS41Nzg2IDk3LjI4MThaIiBmaWxsPSJ1cmwoI3BhaW50MV9yYWRpYWwpIi8+CjxwYXRoIGQ9Ik02Ni4wNDM5IDU4LjcyNEM2OC42MjM1IDc5LjQ5ODIgODMuMTY1NCA5NC43OTM1IDk4LjQwMzcgOTIuODk4N0MxMTMuNjQyIDkxLjAwMzkgMTIzLjk5NSA3Mi42MTUzIDEyMS40MDQgNTEuODA2OUMxMTguODEzIDMwLjk5ODUgMTA0LjU3OSAxNy42ODkzIDg5LjI5NSAxOS41OTU1Qzc0LjAxMTEgMjEuNTAxNyA2My40NjQyIDM3Ljk2MTIgNjYuMDQzOSA1OC43MjRaIiBmaWxsPSJ1cmwoI3BhaW50Ml9yYWRpYWwpIi8+CjxwYXRoIGQ9Ik05NC43NTEgMzcuNDkzMkw5Ni4xNzc4IDQ4LjU3NjZDOTYuOTAzMSA1My4wNTA4IDk5LjIzMiA1Ny4xMDgxIDEwMi43MyA1OS45OTFDMTAzLjUxMyA2MC43NDU4IDEwNC4wMTYgNjEuNzQ1MiAxMDQuMTU1IDYyLjgyNDNDMTA0LjI5NCA2My45MDM0IDEwNC4wNjEgNjQuOTk3NyAxMDMuNDk0IDY1LjkyNjVDMTAyLjc1MiA2Ni45NTM3IDk5LjMxNjcgNjkuMzUwOCA5OS40OTk0IDcxLjk3NjFMMTAwLjUzOCA4Mi4yNDlMMTIzLjQ5MiA3OS41MDk2TDExNy40NjYgMzUuMTg3NUw5NC43NTEgMzcuNDkzMloiIGZpbGw9InVybCgjcGFpbnQzX3JhZGlhbCkiLz4KPHBhdGggZD0iTTEwNS4xMTUgNzguMzY4MUMxMDQuMzc5IDc5LjU4NTEgMTAzLjI4MiA4MC41NDI1IDEwMS45NzYgODEuMTA3NkMxMDAuNjIgODEuNjk3MiA5OS4xMjU4IDgxLjg5ODggOTcuNjYxNSA4MS42ODk3Qzk2Ljg5NjMgODEuNTg0OCA5Ni4xNTA0IDgxLjM2OTQgOTUuNDQ3MSA4MS4wNTA1Qzk0Ljc1NzUgODAuNzE4NSA5NC4xMjI0IDgwLjI4MzYgOTMuNTYzNyA3OS43NjA3QzkyLjQ3MjMgNzguNzc2NiA5MS43NzQ4IDc3LjQzMDIgOTEuNjAwNCA3NS45NzExQzkxLjU3ODEgNzUuODE4NCA5MS41ODY5IDc1LjY2MjggOTEuNjI2NCA3NS41MTM2QzkxLjY2NTggNzUuMzY0NCA5MS43MzUxIDc1LjIyNDggOTEuODMwMSA3NS4xMDMyQzkxLjkyNSA3NC45ODE2IDkyLjA0MzcgNzQuODgwNSA5Mi4xNzg4IDc0LjgwNkM5Mi4zMTM5IDc0LjczMTUgOTIuNDYyOCA3NC42ODUyIDkyLjYxNjMgNzQuNjY5OEM5Mi43NTYyIDc0LjY0NjggOTIuODk4OCA3NC42NDY4IDkzLjAzODYgNzQuNjY5OEg5My4yMjEzQzk0LjQ5OTcgNzQuOTg5NCA5NS4zNzg2IDc1LjM1NDcgOTYuMjExOCA3NS41MjU5Qzk2Ljk2MzYgNzUuNzE4MSA5Ny43MjU4IDc1Ljg2NjcgOTguNDk0NyA3NS45NzExQzk5LjIyNTIgNzYuMDg1MiAxMDAuMDEzIDc2LjE3NjUgMTAwLjkzNyA3Ni4yNDVDMTAxLjg2MiA3Ni4zMTM1IDEwMi45MjQgNzYuMzcwNiAxMDQuMDk5IDc2LjU1MzJIMTA0LjM4NUMxMDQuNjc4IDc2LjYwMzcgMTA0Ljk0IDc2Ljc2NjggMTA1LjExNSA3Ny4wMDc3QzEwNS4yOSA3Ny4yNDg3IDEwNS4zNjQgNzcuNTQ4NCAxMDUuMzIxIDc3Ljg0M0MxMDUuMjk3IDc4LjAzMjUgMTA1LjIyNiA3OC4yMTMgMTA1LjExNSA3OC4zNjgxWiIgZmlsbD0iIzlCNjQzRCIvPgo8cGF0aCBkPSJNODYuMzE1NSAxMi43NTgyQzg2LjMxNTUgMTIuNzU4MiA4Mi42NTE0IDI2LjIzODYgMTAwLjAxMyAzNC4zNjU2QzEyMy45ODMgNDUuNjIwMiAxMjIuMTQ1IDU4LjkyOTQgMTIyLjE0NSA1OC45Mjk0QzEyMi4xNDUgNTguOTI5NCAxMzcuNTQzIDM5LjcwNzYgMTE5Ljk0MiAyMC44NTFDMTA1LjA4MSA0LjkzOTM0IDg2LjMxNTUgMTIuNzU4MiA4Ni4zMTU1IDEyLjc1ODJaIiBmaWxsPSIjM0EzMTJFIi8+CjxwYXRoIGQ9Ik0xMDkuNzY3IDU4LjYzMzZDMTExLjE5NiA1OC40Nzc2IDExMi4xNDIgNTYuNDA1NCAxMTEuODggNTQuMDA1MkMxMTEuNjE4IDUxLjYwNTEgMTEwLjI0NyA0OS43ODU4IDEwOC44MTkgNDkuOTQxOEMxMDcuMzkgNTAuMDk3NyAxMDYuNDQ0IDUyLjE2OTkgMTA2LjcwNiA1NC41NzAxQzEwNi45NjggNTYuOTcwMiAxMDguMzM5IDU4Ljc4OTUgMTA5Ljc2NyA1OC42MzM2WiIgZmlsbD0iIzNBMzEyRSIvPgo8cGF0aCBkPSJNMTUzLjgzMiAxNDkuMDIzSDE1Ny45OThWMTQ0Ljg1N0MxNTguMDM0IDE0NC40MDggMTU4LjIzOCAxNDMuOTg5IDE1OC41NjkgMTQzLjY4M0MxNTguOSAxNDMuMzc3IDE1OS4zMzQgMTQzLjIwOCAxNTkuNzg1IDE0My4yMDhDMTYwLjIzNSAxNDMuMjA4IDE2MC42NjkgMTQzLjM3NyAxNjEgMTQzLjY4M0MxNjEuMzMxIDE0My45ODkgMTYxLjUzNSAxNDQuNDA4IDE2MS41NzEgMTQ0Ljg1N1YxNDkuMDIzSDE2NS43MzdDMTY2LjIwOSAxNDkuMDIzIDE2Ni42NjIgMTQ5LjIxMSAxNjYuOTk2IDE0OS41NDVDMTY3LjMzIDE0OS44NzkgMTY3LjUxOCAxNTAuMzMyIDE2Ny41MTggMTUwLjgwNEMxNjcuNTE4IDE1MS4yNzYgMTY3LjMzIDE1MS43MjkgMTY2Ljk5NiAxNTIuMDYzQzE2Ni42NjIgMTUyLjM5NyAxNjYuMjA5IDE1Mi41ODQgMTY1LjczNyAxNTIuNTg0SDE2MS41NzFWMTU2Ljc1MUMxNjEuNTkxIDE1Ni45OTcgMTYxLjU1OSAxNTcuMjQ1IDE2MS40NzggMTU3LjQ3OUMxNjEuMzk3IDE1Ny43MTMgMTYxLjI2OSAxNTcuOTI3IDE2MS4xMDEgMTU4LjEwOUMxNjAuOTMzIDE1OC4yOTEgMTYwLjczIDE1OC40MzYgMTYwLjUwMyAxNTguNTM1QzE2MC4yNzcgMTU4LjYzNCAxNjAuMDMyIDE1OC42ODYgMTU5Ljc4NSAxNTguNjg2QzE1OS41MzcgMTU4LjY4NiAxNTkuMjkyIDE1OC42MzQgMTU5LjA2NiAxNTguNTM1QzE1OC44MzkgMTU4LjQzNiAxNTguNjM2IDE1OC4yOTEgMTU4LjQ2OCAxNTguMTA5QzE1OC4zIDE1Ny45MjcgMTU4LjE3MiAxNTcuNzEzIDE1OC4wOTEgMTU3LjQ3OUMxNTguMDEgMTU3LjI0NSAxNTcuOTc4IDE1Ni45OTcgMTU3Ljk5OCAxNTYuNzUxVjE1Mi41ODRIMTUzLjgzMkMxNTMuMzYgMTUyLjU4NCAxNTIuOTA3IDE1Mi4zOTcgMTUyLjU3MyAxNTIuMDYzQzE1Mi4yMzkgMTUxLjcyOSAxNTIuMDUxIDE1MS4yNzYgMTUyLjA1MSAxNTAuODA0QzE1Mi4wNTEgMTUwLjMzMiAxNTIuMjM5IDE0OS44NzkgMTUyLjU3MyAxNDkuNTQ1QzE1Mi45MDcgMTQ5LjIxMSAxNTMuMzYgMTQ5LjAyMyAxNTMuODMyIDE0OS4wMjNaIiBmaWxsPSIjQzhDNkM0Ii8+CjxwYXRoIGQ9Ik0yMS4xMDU0IDIyLjQzNzZIMjUuMjcxNlYxOC4yNzE0QzI1LjI3MTYgMTcuNzk5MSAyNS40NTkyIDE3LjM0NjIgMjUuNzkzMiAxNy4wMTIzQzI2LjEyNzEgMTYuNjc4MyAyNi41OCAxNi40OTA3IDI3LjA1MjMgMTYuNDkwN0MyNy41MjQ1IDE2LjQ5MDcgMjcuOTc3NCAxNi42NzgzIDI4LjMxMTQgMTcuMDEyM0MyOC42NDUzIDE3LjM0NjIgMjguODMyOSAxNy43OTkxIDI4LjgzMjkgMTguMjcxNFYyMi40Mzc2SDMyLjk5OTJDMzMuNDQ4MyAyMi40NzM1IDMzLjg2NzQgMjIuNjc3MyAzNC4xNzMgMjMuMDA4NEMzNC40Nzg2IDIzLjMzOTQgMzQuNjQ4MyAyMy43NzM0IDM0LjY0ODMgMjQuMjI0QzM0LjY0ODMgMjQuNjc0NSAzNC40Nzg2IDI1LjEwODUgMzQuMTczIDI1LjQzOTZDMzMuODY3NCAyNS43NzA2IDMzLjQ0ODMgMjUuOTc0NCAzMi45OTkyIDI2LjAxMDNIMjguODMyOVYzMC4xNzY2QzI4LjgzMjkgMzAuNjQ4OCAyOC42NDUzIDMxLjEwMTcgMjguMzExNCAzMS40MzU3QzI3Ljk3NzQgMzEuNzY5NiAyNy41MjQ1IDMxLjk1NzIgMjcuMDUyMyAzMS45NTcyQzI2LjU4IDMxLjk1NzIgMjYuMTI3MSAzMS43Njk2IDI1Ljc5MzIgMzEuNDM1N0MyNS40NTkyIDMxLjEwMTcgMjUuMjcxNiAzMC42NDg4IDI1LjI3MTYgMzAuMTc2NlYyNi4wMTAzSDIxLjEwNTRDMjAuODU4OCAyNi4wMzAxIDIwLjYxMDggMjUuOTk4NSAyMC4zNzcgMjUuOTE3N0MyMC4xNDMyIDI1LjgzNjkgMTkuOTI4NiAyNS43MDg1IDE5Ljc0NjkgMjUuNTQwN0MxOS41NjUxIDI1LjM3MjkgMTkuNDIgMjUuMTY5MyAxOS4zMjA4IDI0Ljk0MjdDMTkuMjIxNiAyNC43MTYxIDE5LjE3MDQgMjQuNDcxNCAxOS4xNzA0IDI0LjIyNEMxOS4xNzA0IDIzLjk3NjYgMTkuMjIxNiAyMy43MzE5IDE5LjMyMDggMjMuNTA1M0MxOS40MiAyMy4yNzg3IDE5LjU2NTEgMjMuMDc1IDE5Ljc0NjkgMjIuOTA3MkMxOS45Mjg2IDIyLjczOTQgMjAuMTQzMiAyMi42MTExIDIwLjM3NyAyMi41MzAzQzIwLjYxMDggMjIuNDQ5NCAyMC44NTg4IDIyLjQxNzkgMjEuMTA1NCAyMi40Mzc2WiIgZmlsbD0iI0M4QzZDNCIvPgo8cGF0aCBkPSJNNzYuMzczNyA5My4wMjQyTDgwLjkzOTQgNzMuMTA2MUM4NS45MjAxIDczLjQ2MTUgOTAuODUxNyA3MS45MjU1IDk0Ljc0OTggNjguODA0OEM5OC42NDc4IDY1LjY4NDEgMTAxLjIyNiA2MS4yMDgxIDEwMS45NjkgNTYuMjcwM0MxMDIuNzEyIDUxLjMzMjUgMTAxLjU2NSA0Ni4yOTYxIDk4Ljc1ODQgNDIuMTY2M0M5NS45NTE1IDM4LjAzNjYgOTEuNjkwMyAzNS4xMTczIDg2LjgyNTYgMzMuOTkxMUM4MS45NjA5IDMyLjg2NDkgNzYuODUwNCAzMy42MTQ3IDcyLjUxNDEgMzYuMDkwOEM2OC4xNzc5IDM4LjU2NjkgNjQuOTM0OSA0Mi41ODcyIDYzLjQzMjUgNDcuMzQ5MkM2MS45MzAxIDUyLjExMTIgNjIuMjc4NyA1Ny4yNjQ2IDY0LjQwODggNjEuNzgwOUM2Ni41Mzg5IDY2LjI5NzEgNzAuMjkzOCA2OS44NDQgNzQuOTI0IDcxLjcxMzVMNzAuMzU4MyA5MS42NzczQzcwLjMwMDEgOTEuOTQzNSA3MC4zNDg4IDkyLjIyMTkgNzAuNDk0IDkyLjQ1MjVDNzAuNjM5MiA5Mi42ODMyIDcwLjg2OTIgOTIuODQ3NSA3MS4xMzQ0IDkyLjkxTDc1LjE1MjMgOTMuODExOEM3NS4yODQyIDkzLjg0MDMgNzUuNDIwNSA5My44NDI2IDc1LjU1MzIgOTMuODE4NEM3NS42ODYgOTMuNzk0MyA3NS44MTI3IDkzLjc0NDIgNzUuOTI2MiA5My42NzFDNzYuMDM5NiA5My41OTc5IDc2LjEzNzUgOTMuNTAzMSA3Ni4yMTQzIDkzLjM5MjJDNzYuMjkxIDkzLjI4MTIgNzYuMzQ1MiA5My4xNTYxIDc2LjM3MzcgOTMuMDI0MlpNNzEuMzc0MiA0My4wOTc2QzczLjM1NjMgNDAuOTExOCA3NS45NDIyIDM5LjM2MjkgNzguODA0OCAzOC42NDY4QzgxLjY2NzMgMzcuOTMwNyA4NC42Nzc5IDM4LjA3OTUgODcuNDU1OCAzOS4wNzQ1QzkwLjIzMzggNDAuMDY5NCA5Mi42NTQzIDQxLjg2NTkgOTQuNDExMiA0NC4yMzY1Qzk2LjE2ODEgNDYuNjA3MiA5Ny4xODI2IDQ5LjQ0NTcgOTcuMzI2MyA1Mi4zOTI5Qzk3LjQ3IDU1LjM0MDEgOTYuNzM2NSA1OC4yNjM4IDk1LjIxODUgNjAuNzk0MkM5My43MDA1IDYzLjMyNDUgOTEuNDY2MiA2NS4zNDc5IDg4Ljc5ODIgNjYuNjA4M0M4Ni4xMzAyIDY3Ljg2ODggODMuMTQ4NCA2OC4zMDk4IDgwLjIyOTggNjcuODc1NUM3Ny4zMTEyIDY3LjQ0MTMgNzQuNTg2OSA2Ni4xNTEyIDcyLjQwMTQgNjQuMTY4NkM2OS40NzQxIDYxLjUwODggNjcuNzIxOCA1Ny43OTYyIDY3LjUyOTIgNTMuODQ1NkM2Ny4zM\n    zY2IDQ5Ljg5NTEgNjguNzE5NCA0Ni4wMjk2IDcxLjM3NDIgNDMuMDk3NloiIGZpbGw9IiNGRkU1QjkiLz4KPHBhdGggZD0iTTgyLjI3NTEgNzUuNjE3M0M4My40MTY2IDc1LjYxNzMgODUuMDQ4OCA3NS4yNDA2IDg1LjgxMzYgNzYuMjQ1MUM4Ny4wOTIgNzcuOTExNiA4NC42NzIyIDgyLjEzNDkgODMuODE2MSA4My42NjQ0QzgyLjA1ODMgODYuNTc1MSA4Mi44NTczIDkxLjM5MiA3Ni44NTMzIDkyLjkyMTVMNzMuMjkyIDEwMC42MzhMNjYuMjYwNyA5OS4wMTY4QzY3LjI2NTIgOTYuNTUxMyA2Ni42MDMyIDkzLjgzNDcgNjYuOTM0MiA5MS4yNzc4QzY3LjU4NDggODYuMjMyNyA2OS42Mzk0IDc3LjQ4OTIgNzUuNjMyIDc2LjMxMzZDNzcuNTgzOCA3Ni4xOTk0IDgwLjAyNjUgNzUuNzMxNCA4Mi4yNzUxIDc1LjYxNzNaIiBmaWxsPSIjQkY4RjY4Ii8 + CjxwYXRoIGQ9Ik04Mi45NDgyIDU5LjQ4ODdDODQuOTcxOCA1OS40ODg3IDg2LjYxMjIgNTYuNzI5MSA4Ni42MTIyIDUzLjMyNUM4Ni42MTIyIDQ5LjkyMDggODQuOTcxOCA0Ny4xNjEyIDgyLjk0ODIgNDcuMTYxMkM4MC45MjQ2IDQ3LjE2MTIgNzkuMjg0MiA0OS45MjA4IDc5LjI4NDIgNTMuMzI1Qzc5LjI4NDIgNTYuNzI5MSA4MC45MjQ2IDU5LjQ4ODcgODIuOTQ4MiA1OS40ODg3WiIgZmlsbD0iIzNBMzEyRSIvPgo8cGF0aCBkPSJNMjIuODI4NyAxNzUuMTM5QzEzLjQwMDQgMTY0LjI2MSAxMC45NTc3IDEzMSA2Ni4yNjA1IDk5LjAxNjdMNzMuMjkxNyAxMDAuNjM4QzczLjI5MTcgMTAwLjYzOCA1OS40MTE4IDE1NS41ODYgMzkuNzc5MSAxNzEuMTFDMzQuMzQ1OCAxNzUuNDEzIDI3LjM3MTYgMTgwLjM3OSAyMi44Mjg3IDE3NS4xMzlaIiBmaWxsPSIjMkI4OEQ4Ii8 + CjxkZWZzPgo8cmFkaWFsR3JhZGllbnQgaWQ9InBhaW50MF9yYWRpYWwiIGN4PSIwIiBjeT0iMCIgcj0iMSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIGdyYWRpZW50VHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQuMjU1NyAxNTUuMTk4KSBzY2FsZSg3OC44NTA2KSI + CjxzdG9wIG9mZnNldD0iMC4wMyIgc3RvcC1jb2xvcj0iIzBENkJCMiIvPgo8c3RvcCBvZmZzZXQ9IjAuODEiIHN0b3AtY29sb3I9IiMyQjg4RDgiLz4KPC9yYWRpYWxHcmFkaWVudD4KPHJhZGlhbEdyYWRpZW50IGlkPSJwYWludDFfcmFkaWFsIiBjeD0iMCIgY3k9IjAiIHI9IjEiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiBncmFkaWVudFRyYW5zZm9ybT0idHJhbnNsYXRlKDkxLjcwMzEgODEuMDYyKSByb3RhdGUoMTgwKSBzY2FsZSgxOC40NTcxKSI + CjxzdG9wIHN0b3AtY29sb3I9IiM5QjY0M0QiLz4KPHN0b3Agb2Zmc2V0PSIwLjg4IiBzdG9wLWNvbG9yPSIjQkE4QTYzIi8 + CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0JGOEY2OCIvPgo8L3JhZGlhbEdyYWRpZW50Pgo8cmFkaWFsR3JhZGllbnQgaWQ9InBhaW50Ml9yYWRpYWwiIGN4PSIwIiBjeT0iMCIgcj0iMSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIGdyYWRpZW50VHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDQ0NS41OSA3MTg3LjA4KSBzY2FsZSg5ODAuMzA3IDEyODUuODEpIj4KPHN0b3Agc3RvcC1jb2xvcj0iIzlCNjQzRCIvPgo8c3RvcCBvZmZzZXQ9IjAuODgiIHN0b3AtY29sb3I9IiNCQThBNjMiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjQkY4RjY4Ii8 + CjwvcmFkaWFsR3JhZGllbnQ + CjxyYWRpYWxHcmFkaWVudCBpZD0icGFpbnQzX3JhZGlhbCIgY3g9IjAiIGN5PSIwIiByPSIxIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSg5OS40Mzc3IDYwLjg5MjcpIHJvdGF0ZSgwLjU3MjkzOSkgc2NhbGUoMTQuMTMxNyAxNC44MzgyKSI + CjxzdG9wIHN0b3AtY29sb3I9IiM5QjY0M0QiLz4KPHN0b3Agb2Zmc2V0PSIwLjI3IiBzdG9wLWNvbG9yPSIjQTQ2RTQ3IiBzdG9wLW9wYWNpdHk9IjAuNzYiLz4KPHN0b3Agb2Zmc2V0PSIwLjg3IiBzdG9wLWNvbG9yPSIjQkE4OTYyIiBzdG9wLW9wYWNpdHk9IjAuMTQiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjQkY4RjY4IiBzdG9wLW9wYWNpdHk9IjAiLz4KPC9yYWRpYWxHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K"},t="WWE",u=function(){function i(){}return i.prototype.getName=function(){return"WelcomeExperienceDataProvider"},i.prototype.fetch=function(i,r){if(i.enabledDataSources[t]){var u={messages:[{label:n.Host.getLocString("WelcomeExperienceTitle"),messageList:[n.Host.getLocString("WelcomeExperienceMessage"),n.Host.getLocString("WelcomeExperienceMessage2"),n.Host.getLocString("WelcomeExperienceMessage3")]}]};r(t,u,undefined)}},i}(),i;n.WelcomeExperienceDataProvider=u;i=function(){function t(n){this._headerFooterViewModel=n}return t.prototype.parse=function(t,i,u,f,e,o){for(var a,v=this,c=[],s="WWE",y=function(f){var e=n.createSuggestion(t,f.label,null,r,s,null,n.InstrumentedItem.createInstrumentedItemNoHandOff(i,s),999,i,n.localDataSourceMayContainPII(u));e.tooltip=null;e.classNames=["wweUpsell"];e.additionalSubText=f.messageList;var o="wweTourRefreshed",h="wweTourEnabled",l=n.config.enableWWETour&&n.config.enableEducationalFlyout;e.click=function(){return null};l&&n.RuntimeConfig.AlwaysWide&&(e.text=n.Host.getLocString("WelcomeExperienceTourTitle"),e.additionalCalloutText=n.Host.getLocString("WelcomeExpTour"),e.classNames.push("wweTour"),e.click=function(t,r){n.StaticHtmlElements.root.classList.add("overlayEnabled");n.LightweightStorage.setItem(o,"1");n.LightweightStorage.setItem(h,"1");n.setZeroInputDataSourcesForL1();n.Host.refreshCurrentPane();setTimeout(function(){v._headerFooterViewModel.createTourFlyout()},100);n.InstrumentationHelper.instrumentItemClick(t,n.InstrumentedItem.createInstrumentedItemNoHandOff(i,"WWE"),i,null,r,null)},e.additionalSubText=[n.Host.getLocString("WelcomeExperienceTourMessage")]);e.narratorText=e.text;e.reactKey=s+f.label;c.push(e)},h=0,l=f.messages;h<l.length;h++)a=l[h],y(a);o(u,c,undefined)},t}();n.WelcomeExperienceSuggestionsParser=i}(WSB||(WSB={}));1;var __awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(e){if(f)throw new TypeError("Generator is already executing.");while(r)try{if(f=1,u&&(i=e[0]&2?u["return"]:e[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,e[1])).done)return i;(u=0,i)&&(e=[e[0]&2,i.value]);switch(e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(e[0]===6&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(o){e=[6,o];u=0}finally{f=i=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},f,u,i,e;return e={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e},__spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))},WSB;(function(n){var t="TS",r=n.config.trendingSearchUpdateMillis,u=500,f=function(){function i(){this.WSBTSCacheStorageKey="WSBTrendingSearchCache";n.Host.bindShown(function(){n.isTSFallbackToANA=!1})}return i.prototype.getName=function(){return"TrendingSearchDataProvider"},i.prototype.fetch=function(n,i){n.enabledDataSources[t]&&i(t,this.generateTSDataResponse(),null)},i.prototype.generateTSDataResponse=function(){var t=[],i,u,e,f;return n.MockUrlParameters&&typeof n.MockedTSData=="object"?{suggestions:n.MockedTSData.suggestions}:n.canShowTrendingSearch()?(i=this.loadTSContentFromWSBCache(),n.isTSFallbackToANA=!1,i?(u=i.cacheTime,e=i.trendingSearchSuggestions,t=__spreadArray([],e,!0),(u===0||u+r<n.getCurrentTime())&&this.fetchTSUrlWithTimeout().then(function(t){t&&n.Host.refreshCurrentPane()})):(f=this.loadTSContentFromDSBCache(),f?t=__spreadArray([],f.trendingSearchSuggestions,!0):(n.isTSFallbackToANA=!0,n.Host.refreshCurrentPane()),this.fetchTSUrl()),{suggestions:t}):{suggestions:t}},i.prototype.fetchTSUrlWithTimeout=function(){return __awaiter(this,void 0,void 0,function(){var i,t,r,f=this;return __generator(this,function(e){switch(e.label){case 0:return i=!1,t=n.safeSetTimeout(function(){i=!0},u,"fetchTSContentTimer"),r=function(){return __awaiter(f,void 0,void 0,function(){var n;return __generator(this,function(r){switch(r.label){case 0:return[4,this.fetchTSUrl()];case 1:return(n=r.sent(),!n)?[2,!1]:i?(SharedLogHelper.LogWarning("fetchTrendingSearchContentDone","Fetch trending search content succeed but timeout, will render on next shown"),[2,!1]):(t&&(sb_ct(t),t=null),[2,!0])}})})},[4,r()];case 1:return[2,e.sent()]}})})},i.prototype.fetchTSUrl=function(){return __awaiter(this,void 0,void 0,function(){var r,t,u,i,f;return __generator(this,function(e){switch(e.label){case 0:r=n.isBrowserOnline();t="".concat(location.origin).concat(n.config.wsbTrendingSearchEndpoint);t=ThresholdUtilities.setUrlParameter(t,"cc",n.Host.getRegion());t=ThresholdUtilities.setUrlParameter(t,"setlang",n.getCurrentLanguage());e.label=1;case 1:return e.trys.push([1,6,,7]),[4,fetch(t)];case 2:return(u=e.sent(),!u.ok)?[3,4]:[4,u.json()];case 3:if(i=e.sent(),this.isValidTSContent(i))return this.setTSContentToCache({cacheTime:n.getCurrentTime(),trendingSearchSuggestions:i.scenarios[0].items}),n.isTSFallbackToANA=!1,[2,!0];throw new Error("Invalid trending search content. Online status ".concat(r,". Response data ").concat(i?JSON.stringify(i):"undefined","."));case 4:throw new Error("http status:".concat(u.status,". Online status ").concat(r));case 5:return[3,7];case 6:return f=e.sent(),SharedLogHelper.LogError("fetchTrendingSearchUrl","fetch trending search Url failed from '".concat(t,"'. Online status ").concat(r),f),n.isTSFallbackToANA=!0,n.Host.refreshCurrentPane(),[2,!1];case 7:return[2]}})})},i.prototype.isValidTSContent=function(n){var t;return(n===null||n===void 0?void 0:n.scenarios)&&(n===null||n===void 0?void 0:n.scenarios.length)>0&&((t=n.scenarios[0])===null||t===void 0?void 0:t.items)&&n.scenarios[0].items.length>0},i.prototype.setTSContentToCache=function(t){n.LightweightStorage.setItem(this.WSBTSCacheStorageKey,JSON.stringify(t))},i.prototype.loadTSContentFromWSBCache=function(){var t=n.LightweightStorage.getItem(this.WSBTSCacheStorageKey);return t?JSON.parse(t):null},i.prototype.loadTSContentFromDSBCache=function(){var i,r,u,f,e,h=n.LightweightStorage.getItem(n.config.dsbCacheKey),o,t,s;return h&&(o=JSON.parse(h),t=(u=(r=(i=o.response)===null||i===void 0?void 0:i.ContentCollection[0])===null||r===void 0?void 0:r.Data)===null||u===void 0?void 0:u.filter(function(n){return n.CardType==="Others"}),t&&(t===null||t===void 0?void 0:t.length)==1)?(s=(e=(f=t[0].Cards[0].FieldsStore)===null||f===void 0?void 0:f.Items)===null||e===void 0?void 0:e.map(function(n){var t,i,r,u;return{Query:n.Title,Thumbnail:{ThumbnailUrl:(t=n.Thumbnail)===null||t===void 0?void 0:t.ThumbnailUrl,ThumbnailId:(i=n.Thumbnail)===null||i===void 0?void 0:i.ThumbnailId,ThumbnailHeight:(r=n.Thumbnail)===null||r===void 0?void 0:r.ThumbnailHeight,ThumbnailWidth:(u=n.Thumbnail)===null||u===void 0?void 0:u.ThumbnailWidth}}}),{cacheTime:o.cacheTime,trendingSearchSuggestions:s?s:null}):null},i}(),i;n.TrendingSearchDataProvider=f;i=function(){function t(n){this._navigationHelper=n}return t.prototype.parse=function(t,i,r,u,f,e){for(var c,l=this,s=[],a=function(u){n.safeExecute(function(){return l.parseTrendingSearchDataSuggestion(t,u,r,i,f,s)},"parseTrendingSearchDataSuggestion "+r)},o=0,h=u.suggestions;o<h.length;o++)c=h[o],a(c);e(r,s,null)},t.prototype.parseTrendingSearchDataSuggestion=function(t,i,r,u,f,e){var a=this,s,h="TS",p=n.InstrumentedItem.createInstrumentedItem(u,h),c=i.Query,o,l;if(f()){if(o=n.createSuggestion(t,c,null,null,h,c,p,0,u,!1),n.config.enableThumbnailForTrendingSearchItems&&(l=(s=i.Thumbnail)===null||s===void 0?void 0:s.ThumbnailId,l)){var v=24,y=24,w=n.config.imageHostName+"".concat(l).concat(v?"&w=".concat(v):"").concat(y?"&h=".concat(y):"","&c=1&rs=1&p=0");o.icon={type:0,content:w}}o.reactKey="".concat(h," ").concat(c);o.click=n.config.enableMoreEdgeProtocol?function(){n.Host.launchSearch(o.query,a._navigationHelper.getSearchUrl(t.fullPartialQuery,o.query,o.type,null,o.handoffType,n.mapOSFormCode("SSHTRD")),o.useRaf,n.mapOSFormCode("SSHTRD"))}:function(){n.Host.launchSearch(o.query,a._navigationHelper.getSearchUrl(t.fullPartialQuery,o.query,o.type,null,o.handoffType,n.mapOSFormCode("SSHTRD")),o.useRaf)};e.push(o)}},t}();n.TrendingSearchDataParser=i})(WSB||(WSB={}))