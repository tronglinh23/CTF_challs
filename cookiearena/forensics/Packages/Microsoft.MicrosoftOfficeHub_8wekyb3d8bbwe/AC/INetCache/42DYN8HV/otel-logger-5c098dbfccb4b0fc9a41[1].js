/*! For license information please see otel-logger-5c098dbfccb4b0fc9a41.js.LICENSE.txt */
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="BVCZ")}({"3M/p":function(e,t,n){"use strict";function r(e,t){return{name:e,dataType:1,value:t,classification:4}}function i(e,t){return{name:e,dataType:2,value:t,classification:4}}function o(e,t){return{name:e,dataType:0,value:t,classification:4}}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}))},BVCZ:function(e,t,n){"use strict";n.r(t),n.d(t,"getDeviceType",(function(){return fr}));var r,i=n("bb6g"),o=n("J78o"),a=n("aCzR"),s=n("av1u"),u=n("3M/p"),c=n("svub"),l=n("bgLm"),f=n("f2uY");!function(e){e[e.CRITICAL=1]="CRITICAL",e[e.WARNING=2]="WARNING"}(r||(r={}));var d={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105},v=n("ogkr"),p=n("I4e3"),g=v.d,h=(v.b.freeze,v.b.seal,v.b.keys),y=String[v.k],m=y.trim,b=y.endsWith,C=y.startsWith,T=Date[v.k].toISOString,w=Array.isArray,S=v.f.toString;function O(e){return void 0===e||typeof e===v.l}function E(e){return null===e||O(e)}function x(e){return!E(e)}function P(e,t){return!(!e||!v.e.call(e,t))}function k(e){return!(!e||typeof e!==v.j)}function A(e){return!(!e||typeof e!==v.h)}function I(e,t,n,r){void 0===r&&(r=!1);var i=!1;if(!E(e))try{E(e.addEventListener)?E(e.attachEvent)||(e.attachEvent("on"+t,n),i=!0):(e.addEventListener(t,n,r),i=!0)}catch(e){}return i}function L(e,t){if(e)for(var n in e)v.e.call(e,n)&&t.call(e,n,e[n])}function _(e,t){var n=!1;return e&&t&&!(n=e===t)&&(n=C?e.startsWith(t):function(e,t){var n=!1,r=t?t.length:0;if(e&&r&&e.length>=r&&!(n=e===t)){for(var i=0;i<r;i++)if(e[i]!==t[i])return!1;n=!0}return n}(e,t)),n}function N(e,t){return!(!e||!t)&&-1!==e.indexOf(t)}v.e.toString.call(v.b),Object.getPrototypeOf;var F=w||function(e){return!(!e||"[object Array]"!==S.call(e))};function j(e){return!(!e||"[object Error]"!==S.call(e))}function M(e){return"string"==typeof e}function R(e){return"number"==typeof e}function D(e){return"boolean"==typeof e}function B(e){if(e)return T?e.toISOString():function(e){if(e&&e.getUTCFullYear){var t=function(e){var t=String(e);return 1===t.length&&(t="0"+t),t};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(e)}function z(e,t,n){var r=e.length;try{for(var i=0;i<r&&(!(i in e)||-1!==t.call(n||e,e[i],i,e));i++);}catch(e){}}function U(e,t,n){if(e){if(e.indexOf)return e.indexOf(t,n);var r=e.length,i=n||0;try{for(var o=Math.max(i>=0?i:r-Math.abs(i),0);o<r;o++)if(o in e&&e[o]===t)return o}catch(e){}}return-1}function K(e){return e&&(e=m&&e.trim?e.trim():e.replace?e.replace(/^\s+|\s+$/g,""):e),e}var V=!{toString:null}.propertyIsEnumerable("toString"),q=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function H(e){var t=typeof e;if(t===v.h||t===v.j&&null!==e||Object(p.c)("objKeys called on non-object"),!V&&h)return h(e);var n=[];for(var r in e)e&&v.e.call(e,r)&&n.push(r);if(V)for(var i=q.length,o=0;o<i;o++)e&&v.e.call(e,q[o])&&n.push(q[o]);return n}function W(e,t,n,r){if(g)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),g(e,t,i),!0}catch(e){}return!1}function G(){var e=Date;return e.now?e.now():(new e).getTime()}function X(e,t,n,r,i){var o=n;return e&&((o=e[t])===n||i&&!i(o)||r&&!r(n)||(o=n,e[t]=o)),o}function Q(e){return!e}function J(e){return!!e}function Z(e){throw new Error(e)}function $(e){return e&&v.a&&(e=Object(v.b)(Object(v.a)({},e))),e}var Y="window",ee="JSON",te=null,ne=null,re=null,ie=null;function oe(e,t){var n=!1;if(e){try{if(!(n=t in e)){var r=e[v.k];r&&(n=t in r)}}catch(e){}if(!n)try{n=!O((new e)[t])}catch(e){}}return n}function ae(e){var t=Object(p.a)();return t&&t[e]?t[e]:e===Y&&se()?window:null}function se(){return Boolean(typeof window===v.j&&window)}function ue(){return se()?window:ae(Y)}function ce(){return function(){return Boolean(typeof document===v.j&&document)}()?document:ae("document")}function le(){return Boolean(typeof navigator===v.j&&navigator)}function fe(){return le()?navigator:ae("navigator")}function de(e){return typeof location===v.j&&location?location:ae("location")}function ve(){return Boolean(typeof JSON===v.j&&JSON||null!==ae(ee))}function pe(){return ve()?JSON||ae(ee):null}function ge(){var e=fe();return!(!e||!e.product)&&"ReactNative"===e.product}function he(){var e=fe();if(e&&(e.userAgent!==ne||null===te)){var t=((ne=e.userAgent)||"").toLowerCase();te=N(t,"msie")||N(t,"trident/")}return te}function ye(e){var t=Object[v.k].toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":ve()&&(n=pe().stringify(e)),t+n}function me(){return null===ie&&(ie=le()&&Boolean(fe().sendBeacon)),ie}function be(e){var t=!1;try{t=!!ae("fetch");var n=ae("Request");t&&e&&n&&(t=oe(n,"keepalive"))}catch(e){}return t}function Ce(){return null===re&&(re="undefined"!=typeof XDomainRequest)&&Te()&&(re=re&&!oe(ae("XMLHttpRequest"),"withCredentials")),re}function Te(){var e=!1;try{e=!!ae("XMLHttpRequest")}catch(e){}return e}var we="prototype",Se="function",Oe="_dynClass",Ee="_unknown_",xe=0;function Pe(e,t){return e&&Object.prototype.hasOwnProperty.call(e,t)}function ke(e){return typeof e===Se}function Ae(e){return e&&(e===Object.prototype||e===Array.prototype)}function Ie(e){return Ae(e)||e===Function.prototype}function Le(e){if(e){if(Object.getPrototypeOf)return Object.getPrototypeOf(e);var t="__proto__";if(Ae(e[t]))return e[t];var n=e.constructor;if(n)return n.prototype}return null}function _e(e,t){return"constructor"!==t&&ke(e[t])&&Pe(e,t)}function Ne(e){throw new TypeError("DynamicProto: "+e)}function Fe(e,t){return Pe(e,we)?e.name||t||Ee:((e||{}).constructor||{}).name||t||Ee}var je,Me=function(e,t,n){Pe(e,we)||Ne("theClass is an invalid class definition.");var r=e.prototype;(function(e,t){for(var n=Le(t);n&&!Ie(n);){if(n===e)return!0;n=Le(n)}return!1})(r,t)||Ne("["+Fe(e)+"] is not in class heirarchy of ["+Fe(t)+"]");var i=null;Pe(r,Oe)?i=r._dynClass:(i="_dynCls$"+Fe(e,"_")+"$"+xe,xe++,r._dynClass=i);var o=function(e){var t={};for(var n in e)!t[n]&&_e(e,n)&&(t[n]=e[n]);return t}(t);n(t,function(e,t,n){function r(e,t){return function(){return t.apply(e,arguments)}}var i={};for(var o in n)i[o]=r(t,n[o]);for(var a=Le(e);a&&!Ie(a);){for(var o in a)!i[o]&&_e(a,o)&&(i[o]=r(t,a[o]));a=Le(a)}return i}(r,t,o)),function(e,t,n,r){function i(e,t){var n=function(){var r=this;if(r&&Pe(e,Oe)){var i=((r._dynInstFuncs||{})[e._dynClass]||{})[t];if(i)return i.apply(r,arguments);Ne("Missing ["+t+"] "+Se)}var o=e[t];return o===n&&(o=Le(e)[t]),ke(o)||Ne("["+t+"] is not a "+Se),o.apply(r,arguments)};return n._isDynProxy=1,n}if(!Ae(e)){var o=n._dynInstFuncs=n._dynInstFuncs||{},a=o[t]=o[t]||{};for(var s in n)_e(n,s)&&n[s]!==r[s]&&(a[s]=n[s],delete n[s],(!Pe(e,s)||e[s]&&!e[s]._isDynProxy)&&(e[s]=i(e,s)))}}(r,i,t,o)},Re=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],De=null;function Be(e,t){return function(){var n=arguments,r=ze(t);if(r){var i=r.listener;i&&i[e]&&i[e].apply(i,n)}}}function ze(e){var t=De;return t||!0===e.disableDbgExt||(t=De||function(){var e=ae("Microsoft");return e&&(De=e.ApplicationInsights),De}()),t?t.ChromeDbgExt:null}function Ue(e){return e?'"'+e.replace(/\"/g,"")+'"':""}function Ke(e,t){var n=function(){return typeof console!==v.l?console:ae("console")}();if(n){var r="log";n[e]&&(r=e),A(n[r])&&n[r](t)}}var Ve=function(){function e(e,t,n,r){void 0===n&&(n=!1);var i=this;i.messageId=e,i.message=(n?"AI: ":"AI (Internal): ")+e;var o="";ve()&&(o=pe().stringify(r));var a=(t?" message:"+Ue(t):"")+(r?" props:"+Ue(o):"");i.message+=a}return e.dataType="MessageData",e}(),qe=function(){return function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,i={};Me(e,this,(function(e){function o(e,n){var r=t[e];return E(r)?n:r}function a(e,n){var r=ze(t);r&&r.diagLog&&r.diagLog(e,n)}E(t)&&(t={}),e.consoleLoggingLevel=function(){return o("loggingLevelConsole",0)},e.telemetryLoggingLevel=function(){return o("loggingLevelTelemetry",1)},e.maxInternalMessageLimit=function(){return o("maxMessageLimit",25)},e.enableDebugExceptions=function(){return o("enableDebugExceptions",!1)},e.throwInternal=function(t,n,o,s,u){void 0===u&&(u=!1);var c=new Ve(n,o,u,s);if(e.enableDebugExceptions())throw c;var l=t===r.CRITICAL?"errorToConsole":"warnToConsole";if(O(c.message))a("throw"+(t===r.CRITICAL?"Critical":"Warning"),c);else{var f=e.consoleLoggingLevel();if(u){var d=+c.messageId;!i[d]&&f>=t&&(e[l](c.message),i[d]=!0)}else f>=t&&e[l](c.message);e.logInternalMessage(t,c)}},e.warnToConsole=function(e){Ke("warn",e),a("warning",e)},e.errorToConsole=function(e){Ke("error",e),a("error",e)},e.resetInternalMessageCount=function(){n=0,i={}},e.logInternalMessage=function(t,o){if(!function(){return n>=e.maxInternalMessageLimit()}()){var s=!0,u="AITR_"+o.messageId;if(i[u]?s=!1:i[u]=!0,s&&(t<=e.telemetryLoggingLevel()&&(e.queue.push(o),n++,a(t===r.CRITICAL?"error":"warn",o)),n===e.maxInternalMessageLimit())){var c="Internal events throttle limit per PageView reached for this app.",l=new Ve(d.MessageLimitPerPVExceeded,c,!1);e.queue.push(l),t===r.CRITICAL?e.errorToConsole(c):e.warnToConsole(c)}}}}))}}(),He=function(){function e(t,n,r){var i,o=this,a=!1;o.start=G(),o.name=t,o.isAsync=r,o.isChildEvt=function(){return!1},A(n)&&(a=W(o,"payload",(function(){return!i&&A(n)&&(i=n(),n=null),i}))),o.getCtx=function(t){return t?t===e.ParentContextKey||t===e.ChildrenContextKey?o[t]:(o.ctx||{})[t]:null},o.setCtx=function(t,n){t&&(t===e.ParentContextKey?(o[t]||(o.isChildEvt=function(){return!0}),o[t]=n):t===e.ChildrenContextKey?o[t]=n:(o.ctx=o.ctx||{})[t]=n)},o.complete=function(){var t=0,r=o.getCtx(e.ChildrenContextKey);if(F(r))for(var i=0;i<r.length;i++){var s=r[i];s&&(t+=s.time)}o.time=G()-o.start,o.exTime=o.time-t,o.complete=function(){},!a&&A(n)&&(o.payload=n())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),We=function(){return function e(t){this.ctx={},Me(e,this,(function(e){e.create=function(e,t,n){return new He(e,t,n)},e.fire=function(e){e&&(e.complete(),t&&A(t.perfEvent)&&t.perfEvent(e))},e.setCtx=function(t,n){t&&((e.ctx=e.ctx||{})[t]=n)},e.getCtx=function(t){return(e.ctx||{})[t]}}))}}(),Ge="CoreUtils.doPerf";function Xe(e,t,n,r,i){if(e){var o=e;if(A(o.getPerfMgr)&&(o=o.getPerfMgr()),o){var a=void 0,s=o.getCtx(Ge);try{if(a=o.create(t(),r,i)){if(s&&a.setCtx&&(a.setCtx(He.ParentContextKey,s),s.getCtx&&s.setCtx)){var u=s.getCtx(He.ChildrenContextKey);u||(u=[],s.setCtx(He.ChildrenContextKey,u)),u.push(a)}return o.setCtx(Ge,a),n(a)}}catch(e){a&&a.setCtx&&a.setCtx("exception",e)}finally{a&&o.fire(a),o.setCtx(Ge,s)}}}return n()}var Qe=function(){return function(e,t){var n=this,i=null,o=A(e.processTelemetry),a=A(e.setNextPlugin);n._hasRun=!1,n.getPlugin=function(){return e},n.getNext=function(){return i},n.setNext=function(e){i=e},n.processTelemetry=function(s,u){u||(u=t);var c=e?e.identifier:"TelemetryPluginChain";Xe(u?u.core():null,(function(){return c+":processTelemetry"}),(function(){if(e&&o){n._hasRun=!0;try{u.setNext(i),a&&e.setNextPlugin(i),i&&(i._hasRun=!1),e.processTelemetry(s,u)}catch(n){var t=i&&i._hasRun;i&&t||u.diagLog().throwInternal(r.CRITICAL,d.PluginException,"Plugin ["+e.identifier+"] failed during processTelemetry - "+ye(n)),i&&!t&&i.processTelemetry(s,u)}}else i&&(n._hasRun=!0,i.processTelemetry(s,u))}),(function(){return{item:s}}),!s.sync)}}}();function Je(e,t){var n=[];if(e&&e.length>0)for(var r=null,i=0;i<e.length;i++){var o=e[i];if(o&&A(o.processTelemetry)){var a=new Qe(o,t);n.push(a),r&&r.setNext(a),r=a}}return n.length>0?n[0]:null}var Ze=function(){return function e(t,n,r,i){var o=this,a=null;null!==i&&(t&&A(t.getPlugin)?a=function(e,t,n){var r=[],i=!n;if(e)for(;e;){var o=e.getPlugin();(i||o===n)&&(i=!0,r.push(o)),e=e.getNext()}return i||r.push(n),Je(r,t)}(t,o,i||t.getPlugin()):i?a=function(e,t,n){var r=e,i=!1;return n&&e&&(r=[],z(e,(function(e){(i||e===n)&&(i=!0,r.push(e))}))),n&&!i&&(r||(r=[]),r.push(n)),Je(r,t)}(t,o,i):O(i)&&(a=Je(t,o))),o.core=function(){return r},o.diagLog=function(){return function(e,t){return(e||{}).logger||new qe(t)}(r,n)},o.getCfg=function(){return n},o.getExtCfg=function(e,t){var r;if(void 0===t&&(t={}),n){var i=n.extensionConfig;i&&e&&(r=i[e])}return r||t},o.getConfig=function(e,t,r){var i;void 0===r&&(r=!1);var a=o.getExtCfg(e,null);return a&&!E(a[t])?i=a[t]:n&&!E(n[t])&&(i=n[t]),E(i)?r:i},o.hasNext=function(){return null!=a},o.getNext=function(){return a},o.setNext=function(e){a=e},o.processNext=function(e){var t=a;t&&(a=t.getNext(),t.processTelemetry(e,o))},o.createNew=function(t,i){return void 0===t&&(t=null),new e(t||a,n,r,i)}}}(),$e="extensionConfig",Ye=function(){function e(){var e=this,t=!1,n=null,r=null;e.core=null,e.diagLog=function(t){return e._getTelCtx(t).diagLog()},e.isInitialized=function(){return t},e.setInitialized=function(e){t=e},e.setNextPlugin=function(e){r=e},e.processNext=function(e,t){t?t.processNext(e):r&&A(r.processTelemetry)&&r.processTelemetry(e,null)},e._getTelCtx=function(t){void 0===t&&(t=null);var i=t;if(!i){var o=n||new Ze(null,{},e.core);i=r&&r.getPlugin?o.createNew(null,r.getPlugin):o.createNew(null,r)}return i},e._baseTelInit=function(i,o,a,s){i&&X(i,$e,[],null,E),!s&&o&&(s=o.getProcessTelContext().getNext());var u=r;r&&r.getPlugin&&(u=r.getPlugin()),e.core=o,n=new Ze(s,i,o,u),t=!0}}return e.prototype.initialize=function(e,t,n,r){this._baseTelInit(e,t,n,r)},e}();function et(e,t){for(var n=[],r=null,i=e.getNext();i;){var o=i.getPlugin();o&&(r&&A(r.setNextPlugin)&&A(o.processTelemetry)&&r.setNextPlugin(o),A(o.isInitialized)&&o.isInitialized()||n.push(o),r=o,i=i.getNext())}z(n,(function(n){n.initialize(e.getCfg(),e.core(),t,e.getNext())}))}function tt(e){return e.sort((function(e,t){var n=0,r=A(t.processTelemetry);return A(e.processTelemetry)?n=r?e.priority-t.priority:1:r&&(n=-1),n}))}var nt=function(e){function t(){var n,r=e.call(this)||this;function i(e){e&&e.length>0&&(function(e){z(e,(function(e){e.priority<500&&Z("Channel has invalid priority"+e.identifier)}))}(e=e.sort((function(e,t){return e.priority-t.priority}))),n.push(e))}return r.identifier="ChannelControllerPlugin",r.priority=500,Me(t,r,(function(e,t){e.setNextPlugin=function(e){},e.processTelemetry=function(e,t){n&&z(n,(function(n){n.length>0&&r._getTelCtx(t).createNew(n).processNext(e)}))},e.getChannelControls=function(){return n},e.initialize=function(r,o,a){e.isInitialized()||(t.initialize(r,o,a),function(e,t){if(n=[],e&&z(e,(function(e){return i(e)})),t){var r=[];z(t,(function(e){e.priority>500&&r.push(e)})),i(r)}}((r||{}).channels,a),z(n,(function(e){return et(new Ze(e,r,o),a)})))}})),r}return Object(f.b)(t,e),t._staticInit=function(){var e=t.prototype;W(e,"ChannelControls",e.getChannelControls),W(e,"channelQueue",e.getChannelControls)}(),t}(Ye),rt="toGMTString",it="toUTCString",ot="",at=null,st=null,ut=null,ct=ce(),lt={},ft={};function dt(e){return!e||e.isEnabled()}function vt(e,t){var n=function(e){var t=e.cookieCfg=e.cookieCfg||{};if(X(t,"domain",e.cookieDomain,x,E),X(t,"path",e.cookiePath||"/",null,E),E(t.enabled)){var n=void 0;O(e.isCookieUseDisabled)||(n=!e.isCookieUseDisabled),O(e.disableCookiesUsage)||(n=!e.disableCookiesUsage),t.enabled=n}return t}(e||ft),r=n.path||"/",i=n.domain,o=!1!==n.enabled,a={isEnabled:function(){var e=o&&pt(t),n=ft._ckMgr;return e&&n&&a!==n&&(e=dt(n)),e},setEnabled:function(e){o=!1!==e},set:function(e,t,o,s,u){var c=!1;if(dt(a)){var l={},f=K(t||ot),d=f.indexOf(";");if(-1!==d&&(f=K(t.substring(0,d)),l=gt(t.substring(d+1))),X(l,"domain",s||i,J,O),!E(o)){var v=he();if(O(l.expires)){var p=G()+1e3*o;if(p>0){var g=new Date;g.setTime(p),X(l,"expires",ht(g,v?rt:it)||ht(g,v?rt:it)||ot,J)}}v||X(l,"max-age",ot+o,null,O)}var h=de();h&&"https:"===h.protocol&&(X(l,"secure",null,null,O),null===st&&(st=!function(e){return!(!M(e)||!N(e,"CPU iPhone OS 12")&&!N(e,"iPad; CPU OS 12")&&!(N(e,"Macintosh; Intel Mac OS X 10_14")&&N(e,"Version/")&&N(e,"Safari"))&&(!N(e,"Macintosh; Intel Mac OS X 10_14")||!function(e,t){var n=!1;return e&&!(n=e===t)&&(n=b?e.endsWith(t):function(e,t){var n=!1,r=t.length,i=e?e.length:0;if(r&&i&&i>=r&&!(n=e===t)){for(var o=i-1,a=r-1;a>=0;a--){if(e[o]!=t[a])return!1;o--}n=!0}return n}(e,t)),n}(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))&&!N(e,"Chrome/5")&&!N(e,"Chrome/6")&&(!N(e,"UnrealEngine")||N(e,"Chrome"))&&!N(e,"UCBrowser/12")&&!N(e,"UCBrowser/11"))}((fe()||{}).userAgent)),st&&X(l,"SameSite","None",null,O)),X(l,"path",u||r,null,O),(n.setCookie||bt)(e,yt(f,l)),c=!0}return c},get:function(e){var t=ot;return dt(a)&&(t=(n.getCookie||mt)(e)),t},del:function(e,t){var n=!1;return dt(a)&&(n=a.purge(e,t)),n},purge:function(e,r){var i,o=!1;if(pt(t)){var a=((i={}).path=r||"/",i.expires="Thu, 01 Jan 1970 00:00:01 GMT",i);he()||(a["max-age"]="0"),(n.delCookie||bt)(e,yt(ot,a)),o=!0}return o}};return a._ckMgr=a,a}function pt(e){if(null===at){at=!1;try{at=void 0!==(ct||{}).cookie}catch(t){e&&e.throwInternal(r.WARNING,d.CannotAccessCookie,"Cannot access document.cookie - "+function(e){return j(e)?e.name:""}(t),{exception:ye(t)})}}return at}function gt(e){var t={};return e&&e.length&&z(K(e).split(";"),(function(e){if(e=K(e||ot)){var n=e.indexOf("=");-1===n?t[e]=null:t[K(e.substring(0,n))]=K(e.substring(n+1))}})),t}function ht(e,t){return A(e[t])?e[t]():null}function yt(e,t){var n=e||ot;return L(t,(function(e,t){n+="; "+e+(E(t)?ot:"="+t)})),n}function mt(e){var t=ot;if(ct){var n=ct.cookie||ot;ut!==n&&(lt=gt(n),ut=n),t=K(lt[e]||ot)}return t}function bt(e,t){ct&&(ct.cookie=e+"="+t)}function Ct(e,t){return new We(t)}var Tt=function(){return function e(){var t,n,i,o,a,s=!1;Me(e,this,(function(e){e._extensions=new Array,n=new nt,e.logger=new qe({loggingLevelConsole:r.CRITICAL}),t=[],e.isInitialized=function(){return s},e.initialize=function(t,r,o,a){e.isInitialized()&&Z("Core should not be initialized more than once"),t&&!E(t.instrumentationKey)||Z("Please provide instrumentation key"),i=a,e._notificationManager=a,e.config=t||{},a&&!0!==e.config.disableDbgExt&&a.addNotificationListener(function(e){if(!je){je={};for(var t=0;t<Re.length;t++)je[Re[t]]=Be(Re[t],e)}return je}(t)),e.config.enablePerfMgr&&X(e.config,"createPerfMgr",Ct),t.extensions=E(t.extensions)?[]:t.extensions,(function(e,t,n){var r;return e?!(r=e[t])&&E(r)&&(r=O(n)?{}:n,e[t]=r):r=O(n)?{}:n,r}(t,$e)).NotificationManager=a,o&&(e.logger=o);var u=[];u.push.apply(u,Object(f.c)(Object(f.c)([],r,!1),t.extensions,!1)),u=tt(u);var c=[],l=[],d={};z(u,(function(e){(E(e)||E(e.initialize))&&Z("Extensions must provide callback to initialize");var t=e.priority,r=e.identifier;e&&t&&(E(d[t])?d[t]=r:o.warnToConsole("Two extensions have same priority #"+t+" - "+d[t]+", "+r)),!t||t<n.priority?c.push(e):l.push(e)})),u.push(n),c.push(n),u=tt(u),e._extensions=u,et(new Ze([n],t,e),u),et(new Ze(c,t,e),u),e._extensions=c,0===e.getTransmissionControls().length&&Z("No channels available"),s=!0,e.releaseQueue()},e.getTransmissionControls=function(){return n.getChannelControls()},e.track=function(n){X(n,"iKey",e.config.instrumentationKey,null,Q),X(n,"time",B(new Date),null,Q),X(n,"ver","4.0",null,E),e.isInitialized()?e.getProcessTelContext().processNext(n):t.push(n)},e.getProcessTelContext=function(){var t=e._extensions,r=t;return t&&0!==t.length||(r=[n]),new Ze(r,e.config,e)},e.getNotifyMgr=function(){return i||(i=Object(p.b)({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){},eventsSendRequest:function(e,t){}}),e._notificationManager=i),i},e.getCookieMgr=function(){return a||(a=vt(e.config,e.logger)),a},e.setCookieMgr=function(e){a=e},e.getPerfMgr=function(){return o||e.config&&e.config.enablePerfMgr&&A(e.config.createPerfMgr)&&(o=e.config.createPerfMgr(e,e.getNotifyMgr())),o||function(){return null}()},e.setPerfMgr=function(e){o=e},e.eventCnt=function(){return t.length},e.releaseQueue=function(){t.length>0&&(z(t,(function(t){e.getProcessTelContext().processNext(t)})),t=[])}}))}}(),wt=function(){return function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;Me(e,this,(function(e){e.addNotificationListener=function(t){e.listeners.push(t)},e.removeNotificationListener=function(t){for(var n=U(e.listeners,t);n>-1;)e.listeners.splice(n,1),n=U(e.listeners,t)},e.eventsSent=function(t){z(e.listeners,(function(e){e&&e.eventsSent&&setTimeout((function(){return e.eventsSent(t)}),0)}))},e.eventsDiscarded=function(t,n){z(e.listeners,(function(e){e&&e.eventsDiscarded&&setTimeout((function(){return e.eventsDiscarded(t,n)}),0)}))},e.eventsSendRequest=function(t,n){z(e.listeners,(function(e){if(e&&e.eventsSendRequest)if(n)setTimeout((function(){return e.eventsSendRequest(t,n)}),0);else try{e.eventsSendRequest(t,n)}catch(e){}}))},e.perfEvent=function(t){t&&(!n&&t.isChildEvt()||z(e.listeners,(function(e){if(e&&e.perfEvent)if(t.isAsync)setTimeout((function(){return e.perfEvent(t)}),0);else try{e.perfEvent(t)}catch(e){}})))}}))}}(),St=function(e){function t(){var n=e.call(this)||this,r=0;return Me(t,n,(function(e,t){function n(t){var n=e.getNotifyMgr();n&&n.eventsDiscarded([t],2)}e.initialize=function(e,n,r,i){t.initialize(e,n,r||new qe(e),i||new wt(e))},e.track=function(r){Xe(e.getPerfMgr(),(function(){return"AppInsightsCore:track"}),(function(){null===r&&(n(r),Z("Invalid telemetry item")),function(e){if(E(e.name))throw n(e),Error("telemetry name required")}(r),t.track(r)}),(function(){return{item:r}}),!r.sync)},e.addNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.addNotificationListener(t)},e.removeNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.removeNotificationListener(t)},e.pollInternalLogs=function(t){var n=e.config.diagnosticLogInterval;return n&&n>0||(n=1e4),r&&e.stopPollingInternalLogs(),r=setInterval((function(){var n=e.logger?e.logger.queue:[];z(n,(function(n){var r={name:t||"InternalMessageId: "+n.messageId,iKey:e.config.instrumentationKey,time:B(new Date),baseType:Ve.dataType,baseData:{message:n.message}};e.track(r)})),n.length=0}),n)},e.stopPollingInternalLogs=function(){r&&(clearInterval(r),r=0)}})),n}return Object(f.b)(t,e),t}(Tt),Ot=Object(f.a)(Object(f.a)({},d),{AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}),Et=4294967296,xt=4294967295,Pt=!1,kt=123456789,At=987654321;function It(e){e<0&&(e>>>=0),kt=123456789+e&xt,At=987654321-e&xt,Pt=!0}function Lt(){try{var e=2147483647&G();It((Math.random()*Et^e)+e)}catch(e){}}function _t(e){return e>0?Math.floor(Nt()/xt*(e+1))>>>0:0}function Nt(e){var t,n=function(){return ae("crypto")}()||function(){return ae("msCrypto")}();return n&&n.getRandomValues?t=n.getRandomValues(new Uint32Array(1))[0]&xt:he()?(Pt||Lt(),t=Ft()&xt):t=Math.floor(Et*Math.random()|0),e||(t>>>=0),t}function Ft(e){var t=((At=36969*(65535&At)+(At>>16)&xt)<<16)+(65535&(kt=18e3*(65535&kt)+(kt>>16)&xt))>>>0&xt|0;return e||(t>>>=0),t}var jt,Mt="visibilitychange",Rt="pagehide",Dt="pageshow",Bt=null;function zt(e,t){var n=!1,r=ue();r&&(n=I(r,e,t),n=I(r.body,e,t)||n);var i=ce();return i&&(n=I(i,e,t)||n),n}function Ut(e,t,n){var r=!1;if(t&&e&&F(e)){var i=[];z(e,(function(e){M(e)&&(n&&-1!==U(n,e)?i.push(e):r=zt(e,t)||r)})),!r&&i.length>0&&(r=Ut(i,t))}return r}function Kt(e,t){return Ut(["beforeunload","unload","pagehide"],e,t)}function Vt(e,t){var n=!1;return t&&-1!==U(t,Rt)||(n=zt(Rt,e)),t&&-1!==U(t,Mt)||(n=zt(Mt,(function(t){var n=ce();e&&n&&"hidden"===n.visibilityState&&e(t)}))||n),!n&&t&&(n=Vt(e)),n}function qt(e,t){var n=!1;return t&&-1!==U(t,Dt)||(n=zt(Dt,e)),t&&-1!==U(t,Mt)||(n=zt(Mt,(function(t){var n=ce();e&&n&&"visible"===n.visibilityState&&e(t)}))||n),!n&&t&&(n=qt(e)),n}function Ht(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(Qt,(function(e){var t=0|function(){return _t(15)}();return("x"===e?t:3&t|8).toString(16)}))}function Wt(){var e=function(){return ae("performance")}();return e&&e.now?e.now():G()}v.l;var Gt,Xt={_canUseCookies:void 0,isTypeof:function(e,t){return typeof e===t},isUndefined:O,isNullOrUndefined:E,hasOwnProperty:P,isFunction:A,isObject:k,isDate:function(e){return!(!e||"[object Date]"!==S.call(e))},isArray:F,isError:j,isString:M,isNumber:R,isBoolean:D,toISOString:B,arrForEach:z,arrIndexOf:U,arrMap:function(e,t,n){var r;if(e){if(e.map)return e.map(t,n);var i=e.length,o=n||e;r=new Array(i);try{for(var a=0;a<i;a++)a in e&&(r[a]=t.call(o,e[a],e))}catch(e){}}return r},arrReduce:function(e,t,n){var r;if(e){if(e.reduce)return e.reduce(t,n);var i=e.length,o=0;if(arguments.length>=3)r=arguments[2];else{for(;o<i&&!(o in e);)o++;r=e[o++]}for(;o<i;)o in e&&(r=t(r,e[o],o,e)),o++}return r},strTrim:K,objCreate:p.b,objKeys:H,objDefineAccessors:W,addEventHandler:zt,dateNow:G,isIE:he,disableCookies:function(){(function(e,t){var n=function(e,t){var n=vt._ckMgr||ft._ckMgr;return n||(n=vt._ckMgr=vt(undefined,undefined),ft._ckMgr=n),n}(),r=Xt._canUseCookies;return null===Bt&&(Bt=[],jt=r,W(Xt,"_canUseCookies",(function(){return jt}),(function(e){jt=e,z(Bt,(function(t){t.setEnabled(e)}))}))),-1===U(Bt,n)&&Bt.push(n),D(r)&&n.setEnabled(r),D(jt)&&n.setEnabled(jt),n})().setEnabled(!1)},newGuid:Ht,perfNow:Wt,newId:function(e){void 0===e&&(e=22);for(var t=Nt()>>>0,n=0,r="";r.length<e;)n++,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===n&&(t=(Nt()<<2&4294967295|3&t)>>>0,n=0);return r},randomValue:_t,random32:Nt,mwcRandomSeed:function(e){e?It(e):Lt()},mwcRandom32:Ft,generateW3CId:function(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",r=0;r<4;r++)n+=t[15&(e=Nt())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+(3&Nt())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+i+n.substr(16,3)+n.substr(19,12)}},Qt=/[xy]/g,Jt="1DS-Web-JS-3.1.11",Zt="withCredentials",$t=((Gt={})[0]=0,Gt[2]=6,Gt[1]=1,Gt[3]=7,Gt[4098]=6,Gt[4097]=1,Gt[4099]=7,Gt),Yt=(Boolean(ce()),Boolean(ue()));function en(e){return!(""===e||E(e))}function tn(e,t,n){var r=-1;if(!O(e))if(t>0&&(32===t?r=8192:t<=13&&(r=t<<5)),function(e){return e>=0&&e<=9}(n))-1===r&&(r=0),r|=n;else{var i=$t[an(e)]||-1;-1!==r&&-1!==i?r|=i:6===i&&(r=i)}return r}function nn(e,t,n,r,i){var o={},a=!1,s=0,u=arguments.length,c=Object[v.k],l=arguments;for("[object Boolean]"===c.toString.call(l[0])&&(a=l[0],s++);s<u;s++)L(e=l[s],(function(e,t){a&&t&&k(t)?F(t)?(o[e]=o[e]||[],z(t,(function(t,n){t&&k(t)?o[e][n]=nn(!0,o[e][n],t):o[e][n]=t}))):o[e]=nn(!0,o[e],t):o[e]=t}));return o}var rn=Wt;function on(e,t){var n=e;n.timings=n.timings||{},n.timings.processTelemetryStart=n.timings.processTelemetryStart||{},n.timings.processTelemetryStart[t]=rn()}function an(e){var t=0;if(null!=e){var n=typeof e;"string"===n?t=1:"number"===n?t=2:"boolean"===n?t=3:n===v.j&&(t=4,F(e)?(t=4096,e.length>0&&(t|=an(e[0]))):P(e,"value")&&(t=8192|an(e.value)))}return t}v.l,v.j,v.l,p.b;var sn=function(e){function t(){var n=e.call(this)||this;return n.pluginVersionStringArr=[],n.pluginVersionString="",Me(t,n,(function(e,t){e.logger&&e.logger.queue||(e.logger=new qe({loggingLevelConsole:r.CRITICAL})),e.initialize=function(n,i,o,a){Xe(e,(function(){return"AppInsightsCore.initialize"}),(function(){if(n){n.endpointUrl||(n.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var s=n.propertyStorageOverride;if(s&&(!s.getProperty||!s.setProperty))throw new Error("Invalid property storage override passed.");n.channels&&z(n.channels,(function(t){t&&z(t,(function(t){if(t.identifier&&t.version){var n=t.identifier+"="+t.version;e.pluginVersionStringArr.push(n)}}))}))}e.getWParam=function(){return"undefined"!=typeof document?0:-1},i&&z(i,(function(t){if(t&&t.identifier&&t.version){var n=t.identifier+"="+t.version;e.pluginVersionStringArr.push(n)}})),e.pluginVersionString=e.pluginVersionStringArr.join(";");try{t.initialize(n,i,o,a),e.pollInternalLogs("InternalLog")}catch(t){var u=e.logger,c=ye(t);-1!==c.indexOf("channels")&&(c+="\n - Channels must be provided through config.channels only!"),u.throwInternal(r.CRITICAL,Ot.FailedToInitializeSDK,"SDK Initialization Failed - no telemetry will be sent: "+c)}}),(function(){return{config:n,extensions:i,logger:o,notificationManager:a}}))},e.track=function(n){Xe(e,(function(){return"AppInsightsCore.track"}),(function(){var r=n;if(r){r.timings=r.timings||{},r.timings.trackStart=rn(),function(e){return!!(e&&R(e)&&e>=1&&e<=4)}(r.latency)||(r.latency=1);var i=r.ext=r.ext||{};i.sdk=i.sdk||{},i.sdk.ver=Jt;var o=r.baseData=r.baseData||{};o.properties||(o.properties={});var a=o.properties;a.version||(a.version=""),""!==e.pluginVersionString&&(a.version=e.pluginVersionString)}t.track(r)}),(function(){return{item:n}}),!n.sync)}})),n}return Object(f.b)(t,e),t}(St),un="REAL_TIME",cn="POST",ln="drop",fn="requeue",dn="application/x-json-stream",vn="cache-control",pn="content-type",gn="time-delta-millis",hn="AuthMsaDeviceTicket";function yn(e){var t=(e.ext||{}).intweb;return t&&en(t.msfpc)?t.msfpc:null}function mn(e){for(var t=null,n=0;null===t&&n<e.length;n++)t=yn(e[n]);return t}var bn=function(){function e(t,n){var r=n?[].concat(n):[],i=this,o=mn(r);i.iKey=function(){return t},i.Msfpc=function(){return o||""},i.count=function(){return r.length},i.events=function(){return r},i.addEvent=function(e){return!!e&&(r.push(e),o||(o=yn(e)),!0)},i.split=function(n,i){var a;if(n<r.length){var s=r.length-n;E(i)||(s=i<s?i:s),a=r.splice(n,s),o=mn(r)}return new e(t,a)}}return e.create=function(t,n){return new e(t,n)},e}(),Cn=2e6,Tn=Math.min(Cn,65e3),wn=/\./,Sn=function(){return function e(t,n,r,i){var o="baseData",a=!!i,s=n,u={};Me(e,this,(function(e){function n(e,t,i,o,c,l,f){L(e,(function(e,d){var v=null;if(d||en(d)){var p=i,g=e,h=c,y=t;if(a&&!o&&wn.test(e)){var m=e.split("."),b=m.length;if(b>1){h&&(h=h.slice());for(var C=0;C<b-1;C++){var T=m[C];y=y[T]=y[T]||{},p+="."+T,h&&h.push(T)}g=m[b-1]}}if(v=o&&function(e,t){var n=u[e];return void 0===n&&(e.length>=7&&(n=_(e,"ext.metadata")||_(e,"ext.web")),u[e]=n),n}(p)||!s||!s.handleField(p,g)?function(e,t,n){if(!t&&!en(t)||"string"!=typeof e)return null;var r=typeof t;if("string"===r||"number"===r||"boolean"===r||F(t))t={value:t};else if("object"!==r||t.hasOwnProperty("value")){if(E(t.value)||""===t.value||!M(t.value)&&!R(t.value)&&!D(t.value)&&!F(t.value))return null}else t={value:n?JSON.stringify(t):t};if(F(t.value)&&!function(e){return e.length>0}(t.value))return null;if(!E(t.kind)){if(F(t.value)||!function(e){return 0===e||e>0&&e<=13||32===e}(t.kind))return null;t.value=t.value.toString()}return t}(g,d,r):s.value(p,g,d,r)){var w=v.value;if(y[g]=w,l&&l(h,g,v),f&&"object"==typeof w&&!F(w)){var S=h;S&&(S=S.slice()).push(g),n(d,w,p+"."+g,o,S,l,f)}}}}))}e.createPayload=function(e,t,n,r,i,o){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:e,isTeardown:t,isSync:n,isBeacon:r,sendType:o,sendReason:i}},e.appendPayload=function(n,r,i){var o=n&&r&&!n.overflow;return o&&Xe(t,(function(){return"Serializer:appendPayload"}),(function(){for(var t=r.events(),o=n.payloadBlob,a=n.numEvents,s=!1,u=[],c=[],l=n.isBeacon,f=l?65e3:3984588,d=l?Tn:Cn,v=0,p=0;v<t.length;){var g=t[v];if(g){if(a>=i){n.overflow=r.split(v);break}var h=e.getEventBlob(g);if(h&&h.length<=d){var y=h.length;if(o.length+y>f){n.overflow=r.split(v);break}o&&(o+="\n"),o+=h,++p>20&&(o.substr(0,1),p=0),s=!0,a++}else h?u.push(g):c.push(g),t.splice(v,1),v--}v++}if(u&&u.length>0&&n.sizeExceed.push(bn.create(r.iKey(),u)),c&&c.length>0&&n.failedEvts.push(bn.create(r.iKey(),c)),s){n.batches.push(r),n.payloadBlob=o,n.numEvents=a;var m=r.iKey();-1===U(n.apiKeys,m)&&n.apiKeys.push(m)}}),(function(){return{payload:n,theBatch:{iKey:r.iKey(),evts:r.events()},max:i}})),o},e.getEventBlob=function(e){try{return Xe(t,(function(){return"Serializer.getEventBlob"}),(function(){var t={};t.name=e.name,t.time=e.time,t.ver=e.ver,t.iKey="o:"+function(e){if(e){var t=e.indexOf("-");if(t>-1)return e.substring(0,t)}return""}(e.iKey);var r={},i=e.ext;i&&(t.ext=r,L(i,(function(e,t){n(t,r[e]={},"ext."+e,!0,null,null,!0)})));var a=t.data={};a.baseType=e.baseType;var s=a.baseData={};return n(e.baseData,s,o,!1,[o],(function(e,t,n){On(r,e,t,n)}),!0),n(e.data,a,"data",!1,[],(function(e,t,n){On(r,e,t,n)}),!0),JSON.stringify(t)}),(function(){return{item:e}}))}catch(e){return null}}}))}}();function On(e,t,n,r){if(r&&e){var i=tn(r.value,r.kind,r.propertyType);if(i>-1){var o=e.metadata;o||(o=e.metadata={f:{}});var a=o.f;if(a||(a=o.f={}),t)for(var s=0;s<t.length;s++){var u=t[s];a[u]||(a[u]={f:{}});var c=a[u].f;c||(c=a[u].f={}),a=c}a=a[n]={},F(r.value)?a.a={t:i}:a.t=i}}}var En,xn=function(){function e(){}return e.shouldRetryForStatus=function(e){return!(e>=300&&e<500&&408!=e&&429!=e||501==e||505==e)},e.getMillisToBackoffForRetry=function(e){var t,n=Math.floor(1200*Math.random())+2400;return t=Math.pow(2,e)*n,Math.min(t,6e5)},e}(),Pn=function(){return function e(){var t={};Me(e,this,(function(e){e.setKillSwitchTenants=function(e,n){if(e&&n)try{var r=function(e){var t=[];return e&&z(e,(function(e){t.push(K(e))})),t}(e.split(","));if("this-request-only"===n)return r;for(var i=1e3*parseInt(n,10),o=0;o<r.length;++o)t[r[o]]=G()+i}catch(e){return[]}return[]},e.isTenantKilled=function(e){var n=t,r=K(e);return void 0!==n[r]&&n[r]>G()||(delete n[r],!1)}}))}}(),kn=function(){return function e(){var t=!0,n=!0,r=!0,i="use-collector-delta",o=!1;Me(e,this,(function(e){e.allowRequestSending=function(){return t},e.firstRequestSent=function(){r&&(r=!1,o||(t=!1))},e.shouldAddClockSkewHeaders=function(){return n},e.getClockSkewHeaderValue=function(){return i},e.setClockSkew=function(e){o||(e?(i=e,n=!0,o=!0):n=!1,t=!0)}}))}}(),An="&NoResponseBody=true",In=((En={})[1]=fn,En[100]=fn,En[200]="sent",En[8004]=ln,En[8003]=ln,En),Ln={},_n={};function Nn(e){try{return e.responseText}catch(e){}return""}function Fn(e,t){var n=!1;if(e&&t){var r=H(e);if(r&&r.length>0)for(var i=t.toLowerCase(),o=0;o<r.length;o++){var a=r[o];if(a&&P(t,a)&&a.toLowerCase()===i){n=!0;break}}}return n}function jn(e,t,n,r){t&&n&&n.length>0&&(r&&Ln[t]?(e.hdrs[Ln[t]]=n,e.useHdrs=!0):e.url+="&"+t+"="+n)}!function(e,t){Ln[e]=t,_n[t]=e}(hn,hn);var Mn=function(){return function e(t,n,i,o){this._responseHandlers=[];var a,s,u,c,l,f,d="?cors=true&"+pn.toLowerCase()+"="+dn,p=new Pn,g=!1,h=new kn,y=!1,m=0,b=!0,C=[],T={},w=[],S=null,x=!1,P=!1,k=!1;Me(e,this,(function(e){var A=!0;function I(e,t){for(var n=0,r=null,i=0;null==r&&i<e.length;)1===(n=e[i])?Ce()?r=_:Te()&&(r=j):2===n&&be(t)?r=N:y&&3===n&&me()&&(r=B),i++;return r?{_transport:n,_isSync:t,sendPOST:r}:null}function _(e,t,n){var r=new XDomainRequest;r.open(cn,e.urlString),e.timeout&&(r.timeout=e.timeout),r.onload=function(){var e=Nn(r);D(t,200,{},e),ee(e)},r.onerror=function(){D(t,400,{})},r.ontimeout=function(){D(t,500,{})},r.onprogress=function(){},n?r.send(e.data):a._setTimeoutOverride((function(){r.send(e.data)}),0)}function N(e,t,n){var r,i=e.urlString,o=!1,s=!1,u=((r={body:e.data,method:cn}).Microsoft_ApplicationInsights_BypassAjaxInstrumentation=!0,r);n&&(u.keepalive=!0,2===e._sendReason&&(o=!0,i+=An)),A&&(u.credentials="include"),e.headers&&H(e.headers).length>0&&(u.headers=e.headers),fetch(i,u).then((function(e){var n={},r="";e.headers&&e.headers.forEach((function(e,t){n[t]=e})),e.body&&e.text().then((function(e){r=e})),s||(s=!0,D(t,e.status,n,r),ee(r))})).catch((function(e){s||(s=!0,D(t,0,{}))})),o&&!s&&(s=!0,D(t,200,{})),!s&&e.timeout>0&&a._setTimeoutOverride((function(){s||(s=!0,D(t,500,{}))}),e.timeout)}function j(e,t,n){var r=e.urlString;function i(e,t,n){if(!e[n]&&t&&t.getResponseHeader){var r=t.getResponseHeader(n);r&&(e[n]=K(r))}return e}function o(e,n){D(t,e.status,function(e){var t={};return e.getAllResponseHeaders?t=function(e){var t={};return M(e)&&z(K(e).split(/[\r\n]+/),(function(e){if(e){var n=e.indexOf(": ");if(-1!==n){var r=K(e.substring(0,n)).toLowerCase(),i=K(e.substring(n+1));t[r]=i}else t[K(e)]=1}})),t}(e.getAllResponseHeaders()):(t=i(t,e,gn),t=i(t,e,"kill-duration"),t=i(t,e,"kill-duration-seconds")),t}(e),n)}n&&e.disableXhrSync&&(n=!1);var a=function(e,t,n,r,i,o){function a(e,t,n){try{e[t]=n}catch(e){}}void 0===r&&(r=!1),void 0===i&&(i=!1);var s=new XMLHttpRequest;return r&&a(s,"Microsoft_ApplicationInsights_BypassAjaxInstrumentation",r),n&&a(s,Zt,n),s.open("POST",t,!i),n&&a(s,Zt,n),!i&&o&&a(s,"timeout",o),s}(0,r,A,!0,n,e.timeout);L(e.headers,(function(e,t){a.setRequestHeader(e,t)})),a.onload=function(){var e=Nn(a);o(a,e),ee(e)},a.onerror=function(){o(a)},a.ontimeout=function(){o(a)},a.send(e.data)}function D(e,t,n,i){try{e(t,n,i)}catch(e){a.diagLog().throwInternal(r.WARNING,Ot.SendPostOnCompleteFailure,ye(e))}}function B(e,t,n){var r=200,i=e._thePayload,o=e.urlString+An;try{var s=fe();if(!s.sendBeacon(o,e.data))if(i){var u=[];z(i.batches,(function(e){if(u&&e&&e.count()>0){for(var t=e.events(),n=0;n<t.length;n++)if(!s.sendBeacon(o,S.getEventBlob(t[n]))){u.push(e.split(n));break}}else u.push(e.split(0))})),te(u,8003,i.sendType,!0)}else r=0}catch(e){a.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+e),r=0}finally{D(t,r,{},"")}}function U(e){return 2===e||3===e}function V(e){return P&&U(e)&&(e=2),e}function q(){return!g&&m<n}function W(){var e=w;return w=[],e}function X(e,t,n){var r=!1;return e&&e.length>0&&!g&&s[t]&&S&&(r=0!==t||q()&&(n>0||h.allowRequestSending())),r}function Q(e){var t={};return e&&z(e,(function(e,n){t[n]={iKey:e.iKey(),evts:e.events()}})),t}function J(e,n,i,o,c){if(e&&0!==e.length)if(g)te(e,1,o);else{o=V(o);try{var l=e,f=0!==o;Xe(u,(function(){return"HttpManager:_sendBatches"}),(function(r){r&&(e=e.slice(0));for(var a=[],u=null,l=rn(),d=s[o]||(f?s[1]:s[0]),v=(P||U(o)||d&&3===d._transport)&&function(){return!b&&y&&me()}();X(e,o,n);){var g=e.shift();g&&g.count()>0&&(p.isTenantKilled(g.iKey())?a.push(g):(u=u||S.createPayload(n,i,f,v,c,o),S.appendPayload(u,g,t)?null!==u.overflow&&(e=[u.overflow].concat(e),u.overflow=null,$(u,l,rn(),c),l=rn(),u=null):($(u,l,rn(),c),l=rn(),e=[g].concat(e),u=null)))}u&&$(u,l,rn(),c),e.length>0&&(w=e.concat(w)),te(a,8004,o)}),(function(){return{batches:Q(l),retryCount:n,isTeardown:i,isSynchronous:f,sendReason:c,useSendBeacon:U(o),sendType:o}}),!f)}catch(e){a.diagLog().throwInternal(r.WARNING,Ot.CannotSerializeObject,"Unexpected Exception sending batch: "+ye(e))}}}function Z(e,t,n){e[t]=e[t]||{},e[t][a.identifier]=n}function $(t,n,r,o){if(t&&t.payloadBlob&&t.payloadBlob.length>0){var c=!!e.sendHook,g=s[t.sendType];!U(t.sendType)&&t.isBeacon&&2===t.sendReason&&(g=s[2]||s[3]||g);var y=k;(t.isBeacon||3===g._transport)&&(y=!1);var w=function(e,t){var n={url:d,hdrs:{},useHdrs:!1};n.hdrs=nn(n.hdrs,T),n.useHdrs=H(n.hdrs).length>0,jn(n,"client-id","NO_AUTH",t),jn(n,"client-version",Jt,t);var r="";z(e.apiKeys,(function(e){r.length>0&&(r+=","),r+=e})),jn(n,"apikey",r,t),jn(n,"upload-time",G().toString(),t);var i=function(e){for(var t=0;t<e.batches.length;t++){var n=e.batches[t].Msfpc();if(n)return encodeURIComponent(n)}return""}(e);if(en(i)&&(n.url+="&ext.intweb.msfpc="+i),h.shouldAddClockSkewHeaders()&&jn(n,"time-delta-to-apply-millis",h.getClockSkewHeaderValue(),t),u.getWParam){var o=u.getWParam();o>=0&&(n.url+="&w="+o)}for(var a=0;a<C.length;a++)n.url+="&"+C[a].name+"="+C[a].value;return n}(t,y);y=y||w.useHdrs;var S=rn();Xe(u,(function(){return"HttpManager:_doPayloadSend"}),(function(){for(var s=0;s<t.batches.length;s++)for(var d=t.batches[s].events(),C=0;C<d.length;C++){var T=d[C];if(x){var E=T.timings=T.timings||{};Z(E,"sendEventStart",S),Z(E,"serializationStart",n),Z(E,"serializationCompleted",r)}T.sendAttempt>0?T.sendAttempt++:T.sendAttempt=1}te(t.batches,1e3+(o||0),t.sendType,!0);var k={data:t.payloadBlob,urlString:w.url,headers:w.hdrs,_thePayload:t,_sendReason:o,timeout:l};O(f)||(k.disableXhrSync=!!f),y&&(Fn(k.headers,vn)||(k.headers[vn]="no-cache, no-store"),Fn(k.headers,pn)||(k.headers["content-type"]=dn));var A=null;g&&(A=function(n){h.firstRequestSent();var r=function(n,r){!function(t,n,r,o){var s=9e3,u=null,c=!1,l=!1;try{var f=!0;if(typeof t!==v.l){if(n){h.setClockSkew(n[gn]);var d=n["kill-duration"]||n["kill-duration-seconds"];z(p.setKillSwitchTenants(n["kill-tokens"],d),(function(e){z(r.batches,(function(t){if(t.iKey()===e){u=u||[];var n=t.split(0);r.numEvents-=n.count(),u.push(n)}}))}))}if(200==t||204==t)return void(s=200);(!xn.shouldRetryForStatus(t)||r.numEvents<=0)&&(f=!1),s=9e3+t%1e3}if(f){s=100;var g=r.retryCnt;0===r.sendType&&(g<i?(c=!0,Y((function(){0===r.sendType&&m--,J(r.batches,g+1,r.isTeardown,P?2:r.sendType,5)}),P,xn.getMillisToBackoffForRetry(g))):(l=!0,P&&(s=8001)))}}finally{c||(h.setClockSkew(),function(t,n,r,i){try{i&&a._backOffTransmission(),200===n&&(i||t.isSync||a._clearBackOff(),function(e){if(x){var t=rn();z(e,(function(e){e&&e.count()>0&&function(e,t){x&&z(e,(function(e){Z(e.timings=e.timings||{},"sendEventCompleted",t)}))}(e.events(),t)}))}}(t.batches)),te(t.batches,n,t.sendType,!0)}finally{0===t.sendType&&(m--,5!==r&&e.sendQueuedRequests(t.sendType,r))}}(r,s,o,l)),te(u,8004,r.sendType)}}(n,r,t,o)},s=t.isTeardown||t.isSync;try{g.sendPOST(n,r,s),e.sendListener&&e.sendListener(k,n,s,t.isBeacon)}catch(e){a.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+ye(e)),D(r,0,{})}}),Xe(u,(function(){return"HttpManager:_doPayloadSend.sender"}),(function(){if(A)if(0===t.sendType&&m++,c&&!t.isBeacon&&3!==g._transport){var n={data:k.data,urlString:k.urlString,headers:nn({},k.headers),timeout:k.timeout,disableXhrSync:k.disableXhrSync},r=!1;Xe(u,(function(){return"HttpManager:_doPayloadSend.sendHook"}),(function(){try{e.sendHook(n,(function(e){r=!0,b||e._thePayload||(e._thePayload=e._thePayload||k._thePayload,e._sendReason=e._sendReason||k._sendReason),A(e)}),t.isSync||t.isTeardown)}catch(e){r||A(k)}}))}else A(k)}))}),(function(){return{thePayload:t,serializationStart:n,serializationCompleted:r,sendReason:o}}),t.isSync)}t.sizeExceed&&t.sizeExceed.length>0&&te(t.sizeExceed,8003,t.sendType),t.failedEvts&&t.failedEvts.length>0&&te(t.failedEvts,8002,t.sendType)}function Y(e,t,n){t?e():a._setTimeoutOverride(e,n)}function ee(t){var n=e._responseHandlers;try{for(var i=0;i<n.length;i++)try{n[i](t)}catch(e){a.diagLog().throwInternal(r.CRITICAL,Ot.PostResponseHandler,"Response handler failed: "+e)}if(t){var o=JSON.parse(t);en(o.webResult)&&en(o.webResult.msfpc)&&c.set("MSFPC",o.webResult.msfpc,31536e3)}}catch(e){}}function te(e,t,n,i){if(e&&e.length>0&&o){var s=o[function(e){var t=In[e];return en(t)||(t="oth",e>=9e3&&e<=9999?t="rspFail":e>=8e3&&e<=8999?t=ln:e>=1e3&&e<=1999&&(t="send")),t}(t)];if(s){var c=0!==n;Xe(u,(function(){return"HttpManager:_sendBatchesNotification"}),(function(){Y((function(){try{s.call(o,e,t,c,n)}catch(e){a.diagLog().throwInternal(r.CRITICAL,Ot.NotificationException,"send request notification failed: "+e)}}),i||c,0)}),(function(){return{batches:Q(e),reason:t,isSync:c,sendSync:i,sendType:n}}),!c)}}}e.initialize=function(e,t,n,r,i){var o;i||(i={}),d=e+d,k=!O(i.avoidOptions)&&!i.avoidOptions,u=t,c=t.getCookieMgr(),x=!u.config.disableEventTimings;var v=!!u.config.enableCompoundKey;a=n;var p=i.valueSanitizer,g=i.stringifyObjects;O(i.enableCompoundKey)||(v=!!i.enableCompoundKey),l=i.xhrTimeout,f=i.disableXhrSync,y=!ge(),S=new Sn(u,p,g,v);var h=r,m=i.alwaysUseXhrOverride?r:null,C=i.alwaysUseXhrOverride?r:null;if(!r){b=!1;var T=de();T&&T.protocol&&"file:"===T.protocol.toLowerCase()&&(A=!1);var w=[];w=ge()?[2,1]:[1,2,3];var E=i.transports;E&&(R(E)?w=[E].concat(w):F(E)&&(w=E.concat(w))),r=I(w,!1),h=I(w,!0),r||a.diagLog().warnToConsole("No available transport to send events")}(o={})[0]=r,o[1]=h||I([1,2,3],!0),o[2]=m||I([3,2],!0)||h||I([1],!0),o[3]=C||I([2,3],!0)||h||I([1],!0),s=o},e._getDbgPlgTargets=function(){return[s[0],p,S,s]},e.addQueryStringParameter=function(e,t){for(var n=0;n<C.length;n++)if(C[n].name===e)return void(C[n].value=t);C.push({name:e,value:t})},e.addHeader=function(e,t){T[e]=t},e.canSendRequest=function(){return q()&&h.allowRequestSending()},e.sendQueuedRequests=function(e,t){O(e)&&(e=0),P&&(e=V(e),t=2),X(w,e,0)&&J(W(),0,!1,e,t||0)},e.isCompletelyIdle=function(){return!g&&0===m&&0===w.length},e.setUnloading=function(e){P=e},e.addBatch=function(e){if(e&&e.count()>0){if(p.isTenantKilled(e.iKey()))return!1;w.push(e)}return!0},e.teardown=function(){w.length>0&&J(W(),0,!0,2,2)},e.pause=function(){g=!0},e.resume=function(){g=!1,e.sendQueuedRequests(0,4)},e.sendSynchronousBatch=function(e,t,n){e&&e.count()>0&&(E(t)&&(t=1),P&&(t=V(t),n=2),J([e],0,!1,t,n||0))}}))}}(),Rn=Yt?window:void 0,Dn="eventsDiscarded",Bn=function(e){function t(){var n,i=e.call(this)||this;i.identifier="PostChannel",i.priority=1011,i.version="3.1.11";var o,a,s,u,c,l=!1,f=[],d=null,v=!1,p=0,g=500,h=0,y=1e4,m={},b=un,C=null,T=null,w=0,S=0,O={},E=-1,x=!0,P=!1,k=6,A=2;return Me(t,i,(function(e,t){function i(e){"beforeunload"!==(e||ue().event).type&&(P=!0,a.setUnloading(P)),B(2,2)}function I(e){P=!1,a.setUnloading(P)}function _(e,t){if(e.sendAttempt||(e.sendAttempt=0),e.latency||(e.latency=1),e.ext&&e.ext.trace&&delete e.ext.trace,e.ext&&e.ext.user&&e.ext.user.id&&delete e.ext.user.id,x&&(e.ext=$(e.ext),e.baseData&&(e.baseData=$(e.baseData)),e.data&&(e.data=$(e.data))),e.sync)if(w||v)e.latency=3,e.sync=!1;else if(a)return x&&(e=$(e)),void a.sendSynchronousBatch(bn.create(e.iKey,[e]),!0===e.sync?1:e.sync,3);var n=e.latency,r=h,i=y;4===n&&(r=p,i=g);var o=!1;if(r<i)o=!V(e,t);else{var s=1,u=20;4===n&&(s=4,u=1),o=!0,function(e,t,n,r){for(;n<=t;){var i=U(e,t,!0);if(i&&i.count()>0){var o=i.split(0,r),a=o.count();if(a>0)return 4===n?p-=a:h-=a,Z(Dn,[o],5),!0}n++}return q(),!1}(e.iKey,e.latency,s,u)&&(o=!V(e,t))}o&&J(Dn,[e],5)}function N(e,t,n){var r=H(e,t,n);return a.sendQueuedRequests(t,n),r}function F(){return h>0}function j(){if(E>=0&&H(E,0,c)&&a.sendQueuedRequests(0,c),p>0&&!T&&!v){var e=m[b][2];e>=0&&(T=M((function(){T=null,N(4,0,1),j()}),e))}var t=m[b][1];!C&&!d&&t>=0&&!v&&(F()?C=M((function(){C=null,N(0===S?3:1,0,1),S++,S%=2,j()}),t):S=0)}function M(t,n){0===n&&w&&(n=1);var r=1e3;return w&&(r=xn.getMillisToBackoffForRetry(w-1)),e._setTimeoutOverride(t,n*r)}function D(){null!==C&&(e._clearTimeoutOverride(C),C=null,S=0)}function B(t,n){D(),d&&(e._clearTimeoutOverride(d),d=null),v||N(1,t,n)}function U(e,t,n){var r=O[t];r||(r=O[t=1]);var i=r.iKeyMap[e];return!i&&n&&(i=bn.create(e),r.batches.push(i),r.iKeyMap[e]=i),i}function K(t,n){a.canSendRequest()&&!w&&(s>0&&h>s&&(n=!0),n&&null==d&&e.flush(t,null,20))}function V(e,t){x&&(e=$(e));var n=e.latency,r=U(e.iKey,n,!0);return!!r.addEvent(e)&&(4!==n?(h++,t&&0===e.sendAttempt&&K(!e.sync,u>0&&r.count()>=u)):p++,!0)}function q(){for(var e=0,t=0,n=function(n){var r=O[n];r&&r.batches&&z(r.batches,(function(r){4===n?e+=r.count():t+=r.count()}))},r=1;r<=4;r++)n(r);h=t,p=e}function H(t,n,r){var i=!1,o=0===n;return!o||a.canSendRequest()?Xe(e.core,(function(){return"PostChannel._queueBatches"}),(function(){for(var e=[],n=4;n>=t;){var r=O[n];r&&r.batches&&r.batches.length>0&&(z(r.batches,(function(t){a.addBatch(t)?i=i||t&&t.count()>0:e=e.concat(t.events()),4===n?p-=t.count():h-=t.count()})),r.batches=[],r.iKeyMap={}),n--}e.length>0&&J(Dn,e,4),i&&E>=t&&(E=-1,c=0)}),(function(){return{latency:t,sendType:n,sendReason:r}}),!o):(E=E>=0?Math.min(E,t):t,c=Math.max(c,r)),i}function W(e,t){N(1,0,t),G((function(){e&&e(),f.length>0?d=M((function(){return W(f.shift(),t)}),0):(d=null,F()&&j())}))}function G(e){a.isCompletelyIdle()?e():d=M((function(){G(e)}),.25)}function X(){(m={}).REAL_TIME=[2,1,0],m.NEAR_REAL_TIME=[6,3,0],m.BEST_EFFORT=[18,9,0]}function Q(t,n){var i=e._notificationManager||{},o=i[t];if(o)try{o.apply(i,n)}catch(n){e.diagLog().throwInternal(r.CRITICAL,Ot.NotificationException,t+" notification failed: "+n)}}function J(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t&&t.length>0&&Q(e,[t].concat(n))}function Z(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t&&t.length>0&&z(t,(function(t){t&&t.count()>0&&Q(e,[t.events()].concat(n))}))}function Y(){u=n&&n.disableAutoBatchFlushLimit?0:Math.max(1500,y/6)}X(),function(){O[4]={batches:[],iKeyMap:{}},O[3]={batches:[],iKeyMap:{}},O[2]={batches:[],iKeyMap:{}},O[1]={batches:[],iKeyMap:{}}}(),Y(),a=new Mn(500,2,1,{requeue:function(t,n){var r=[],i=k;P&&(i=A),z(t,(function(t){t&&t.count()>0&&z(t.events(),(function(t){t&&(t.sync&&(t.latency=4,t.sync=!1),t.sendAttempt<i?(on(t,e.identifier),_(t,!1)):r.push(t))}))})),r.length>0&&J(Dn,r,1),P&&B(2,2)},send:function(e,t,n){e&&e.length>0&&Q("eventsSendRequest",[t>=1e3&&t<=1999?t-1e3:0,!0!==n])},sent:function(e,t){Z("eventsSent",e,t),j()},drop:function(e,t){Z(Dn,e,t>=8e3&&t<=8999?t-8e3:0)},rspFail:function(e){Z(Dn,e,1),j()},oth:function(e,t){Z(Dn,e,0),j()}}),e._getDbgPlgTargets=function(){return[a]},e.initialize=function(r,u,c){Xe(u,(function(){return"PostChannel:initialize"}),(function(){var l=u;t.initialize(r,u,c),e.setInitialized(!1);var f=e._getTelCtx();r.extensionConfig[e.identifier]=r.extensionConfig[e.identifier]||{},n=f.getExtCfg(e.identifier),e._setTimeoutOverride=n.setTimeoutOverride?n.setTimeoutOverride:setTimeout.bind(Rn),e._clearTimeoutOverride=n.clearTimeoutOverride?n.clearTimeoutOverride:clearTimeout.bind(Rn),x=!n.disableOptimizeObj&&function(){return!!ae("chrome")}(),function(e){var t=e.getWParam;e.getWParam=function(){var e=0;return n.ignoreMc1Ms0CookieProcessing&&(e|=2),e|t()}}(l),n.eventsLimitInMem>0&&(y=n.eventsLimitInMem),n.immediateEventLimit>0&&(g=n.immediateEventLimit),n.autoFlushEventsLimit>0&&(s=n.autoFlushEventsLimit),n.disableXhrSync,R(n.maxEventRetryAttempts)&&(k=n.maxEventRetryAttempts),R(n.maxUnloadEventRetryAttempts)&&(A=n.maxUnloadEventRetryAttempts),Y(),n.httpXHROverride&&n.httpXHROverride.sendPOST&&(o=n.httpXHROverride),en(r.anonCookieName)&&a.addQueryStringParameter("anoncknm",r.anonCookieName),a.sendHook=n.payloadPreprocessor,a.sendListener=n.payloadListener;var d=n.overrideEndpointUrl?n.overrideEndpointUrl:r.endpointUrl;e._notificationManager=r.extensionConfig.NotificationManager,a.initialize(d,e.core,e,o,n);var v=r.disablePageUnloadEvents||[];Kt(i,v),Vt(i,v),qt(I,r.disablePageShowEvents),e.setInitialized(!0)}),(function(){return{coreConfig:r,core:u,extensions:c}}))},e.processTelemetry=function(t,r){on(t,e.identifier);var i=(r=e._getTelCtx(r)).getExtCfg(e.identifier),o=!!n.disableTelemetry;i&&(o=o||!!i.disableTelemetry);var a=t;o||l||(n.overrideInstrumentationKey&&(a.iKey=n.overrideInstrumentationKey),i&&i.overrideInstrumentationKey&&(a.iKey=i.overrideInstrumentationKey),_(a,!0),P?B(2,2):j()),e.processNext(a,r)},e.setEventQueueLimits=function(e,t){y=e>0?e:1e4,s=t>0?t:0,Y();var n=h>e;if(!n&&u>0)for(var r=1;!n&&r<=3;r++){var i=O[r];i&&i.batches&&z(i.batches,(function(e){e&&e.count()>=u&&(n=!0)}))}K(!0,n)},e.teardown=function(){B(2,2),l=!0,a.teardown()},e.pause=function(){D(),v=!0,a.pause()},e.resume=function(){v=!1,a.resume(),j()},e.addResponseHandler=function(e){a._responseHandlers.push(e)},e._loadTransmitProfiles=function(e){!function(){D(),X(),b=un,j()}(),L(e,(function(e,t){var n=t.length;if(n>=2){var r=n>2?t[2]:0;if(t.splice(0,n-2),t[1]<0&&(t[0]=-1),t[1]>0&&t[0]>0){var i=t[0]/t[1];t[0]=Math.ceil(i)*t[1]}r>=0&&t[1]>=0&&r>t[1]&&(r=t[1]),t.push(r),m[e]=t}}))},e.flush=function(e,t,n){void 0===e&&(e=!0),v||(D(),n=n||1,e?(H(1,0,n),q(),null==d?d=M((function(){W(t,n)}),0):f.push(t)):(N(1,1,n),null!=t&&t()))},e.setMsaAuthTicket=function(e){a.addHeader(hn,e)},e.hasEvents=F,e._setTransmitProfile=function(e){b!==e&&void 0!==m[e]&&(D(),b=e,j())},e._backOffTransmission=function(){w<4&&(w++,D(),j())},e._clearBackOff=function(){w&&(w=0,D(),j())}})),i}return Object(f.b)(t,e),t}(Ye),zn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.initialize=function(t,n){this._postChannel=new Bn;var r=[];n&&(r=r.concat(n)),t.channels=[[this._postChannel]],t.extensionConfig=t.extensionConfig||[],t.extensionConfig[this._postChannel.identifier]=Object(i.a)(Object(i.a)({},t.channelConfiguration),t.extensionConfig[this._postChannel.identifier]);try{e.prototype.initialize.call(this,t,r)}catch(e){this.logger.warnToConsole("Failed to initialize SDK."+e)}},t.prototype.setUploadFrequency=function(e){if(this._postChannel&&e){var t=e/1e3,n=t/2,r={};r.OTelCustomTransmissionProfile=[t,n],this._postChannel._loadTransmitProfiles(r),this._postChannel._setTransmitProfile("OTelCustomTransmissionProfile")}},t.prototype.flush=function(e){this._postChannel&&this._postChannel.flush(e)},t.prototype.shutdown=function(){this._postChannel&&this._postChannel.teardown()},t}(sn),Un="b22a201c3f1d41d28ccc399ba6cc9ca2-1972c77f-1f79-4283-a0f9-b4ddc4646f55-7121";function Kn(e,t,n){t&&t.forEach((function(t){if(!t.classification||4===t.classification||1===t.classification||n.customerContentEnabled&&32===t.classification){var r,i;switch(r=n.prependDataToken?"zC."===t.name.substr(0,3)?"zC.Data."+t.name.substr(3):"Data."+t.name:t.name,t.dataType){case 3:i=6;break;case 2:i=4;break;case 4:i=8;break;case 0:return void(e[r]="string"==typeof t.value?t.value.substr(0,25e3):t.value);case 1:default:return void(e[r]=t.value)}var o={value:t.value,propertyType:i};e[r]=o}}))}function Vn(e,t){try{return e()}catch(e){return Object(l.a)(1,"1DS Sink",e),t}}var qn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.identifier="PartAPlugin",t.priority=450,t._properties={},t}return Object(i.c)(t,e),t.prototype.initialize=function(t,n,r){e.prototype.initialize.call(this,t,n,r)},t.prototype.processTelemetry=function(e,t){Object.assign?Object.assign(e.data,this._properties):e.data=nn(e.data,this._properties);var n=this._getTelCtx(t);this.processNext(e,n)},t.prototype.addDataFields=function(e){Kn(this._properties,e,{prependDataToken:!1,customerContentEnabled:!1})},t}(Ye),Hn="HttpManager:_sendBatches",Wn="HttpManager:_sendBatchesNotification",Gn=function(){function e(e,t,n){this.start=Date.now(),this.name=e,this.isAsync=!0===n,this.payload=t}return e.prototype.isChildEvt=function(){return!1},e.prototype.complete=function(){this.time=Date.now()-this.start,this.exTime=this.time},e}(),Xn=function(){function e(e){this._callbacks=e}return e.prototype.create=function(e,t,n){return e===Hn||e===Wn?new Gn(e,t,n):null},e.prototype.fire=function(e){if(e&&e.complete(),this._callbacks)switch(e.name){case Hn:this.handleSendBatches(e);break;case Wn:this.handleSendBatchesNotification(e)}},e.prototype.setCtx=function(e,t){},e.prototype.getCtx=function(e){},e.prototype.handleSendBatches=function(e){this._callbacks.requestProcessingStats&&this._callbacks.requestProcessingStats(e.time||0,0)},e.prototype.handleSendBatchesNotification=function(e){if(this._callbacks.requestProcessingStats&&e.payload){var t=e.payload();if(t.batches&&t.reason&&t.reason>=1e3&&t.reason<=1999){var n=0;for(var r in t.batches)n+=t.batches[r].evts.length;this._callbacks.requestProcessingStats(0,n)}}},e}(),Qn=function(){return function(e,t){var n=this;this.eventsProcessed=0,this.eventsSent=0,this.eventsDiscarded=0,this.usePartAPlugin=!1;var r=[],o=!1,s={name:"DiagnosticLevel",processEvent:function(e){var t=e.eventFlags.diagnosticLevel;return o||10===t||110===t||120===t}},u={},c=function(e){void 0===e&&(e="D");var t=Ht();return"B"===e?t="{"+t+"}":"P"===e?t="("+t+")":"N"===e&&(t=t.replace(/-/g,"")),t}(),f=(new Date).getTime().toString(),d=function(e,t){if(1===t.eventType)return Un;if(!e.telemetryProperties||!e.telemetryProperties.ariaTenantToken)throw new Error("Missing Tenant Token");return e.telemetryProperties.ariaTenantToken},v=function(e,t){var o=Object(a.c)(e);if(function(e){for(var t=function(t){var n=r[t];if(!n.processEvent(e))return Object(l.b)(2,1,(function(){return e.eventName+" suppressed by "+n.name})),{value:!1}},n=0;n<r.length;n++){var i=t(n);if("object"==typeof i)return i.value}return!0}(o)){n.eventsProcessed++;var s=function(e){return(e?new Date(e):new Date).toISOString()}(o.timestamp),v={"Event.Sequence":{value:n.eventsProcessed,propertyType:4},"Event.Name":o.eventName,"Event.Source":"OTelJS","Event.Time":{value:s,propertyType:9}};Kn(v,o.dataFields,{prependDataToken:!0,customerContentEnabled:1===t.eventType}),v["Event.Id"]=c+"."+n.eventsProcessed;var p="custom";o.eventContract&&(o.eventContract.name&&(v["Event.Contract"]=o.eventContract.name,p+="."+o.eventContract.name.toLowerCase().replace(/\./g,"_")),Kn(v,o.eventContract.dataFields,{prependDataToken:!1,customerContentEnabled:1===t.eventType}));var g={iKey:d(o,t),name:o.eventName,data:v,time:s,baseType:p,ext:{sdk:{seq:n.eventsProcessed,epoch:f}}};return n.usePartAPlugin||(g.data=Object(i.a)(Object(i.a)({},g.data),u)),g}};this.getOneDSTelemetryEvent=function(e){return v(e,{eventType:0})},this.getOneDSCustomerContent=function(e){if(t.enableCustomerContent&&e.telemetryProperties.customerContentVersion&&Math.floor(e.telemetryProperties.customerContentVersion)<=1&&1===e.telemetryProperties.customerContentType)return v(e,{eventType:1})},this.addPreprocessor=function(e){r.push(e)},this.addPersistentDataFields=function(e){Kn(u,e,{prependDataToken:!1,customerContentEnabled:!1})},this.setOptionalEventsEnabled=function(e){o=e},this.setFullEventsEnabled=this.setOptionalEventsEnabled,t.enableOptionalEvents&&(o=!0),this.addPersistentDataFields(e),this.addPreprocessor(s)}}(),Jn=void 0,Zn=function(e){function t(t,n){var r,o,a=e.call(this,t,n)||this;a.usePartAPlugin=!0;var s=new qn,u=function(e){e&&e.addNotificationListener({eventsSent:function(e){Object(l.b)(2,2,(function(){return"Successfully sent "+e.length+" event(s)"})),Object(l.b)(3,2,(function(){return"Sent event(s) details : "+JSON.stringify(e,null,2)})),a.eventsSent+=e.length},eventsDiscarded:function(e,t){Object(l.b)(0,2,(function(){return"Discarded "+e.length+" event(s) because "+t})),Object(l.b)(3,2,(function(){return"Discarded event(s) details : "+JSON.stringify(e,null,2)})),a.eventsDiscarded+=e.length}})};function f(e,t,n,r){var o={instrumentationKey:t,endpointUrl:n,channelConfiguration:{eventsLimitInMem:e.eventsLimitInMem,httpXHROverride:e.httpXHROverride,setTimeoutOverride:e.setTimeoutOverride,clearTimeoutOverride:e.clearTimeoutOverride,ignoreMc1Ms0CookieProcessing:!0,disableOptimizeObj:!0},disableCookiesUsage:!0,extensionConfig:Object(i.a)({},e.extensionConfig)};e.stats&&e.stats.networkStats&&o.channelConfiguration&&(o.channelConfiguration.payloadListener=function(t,n){var r,i=n||t;i.data&&(null===(r=e.stats)||void 0===r||r.networkStats(i.data.length))});var a=new zn;return a.initialize(o,r),a.setUploadFrequency(e.uploadFrequency),e.notificationListener&&a.addNotificationListener(e.notificationListener),e.stats&&a.setPerfMgr(new Xn(e.stats)),a}a.sendTelemetryEvent=function(e){return Vn((function(){var t=a.getOneDSTelemetryEvent(e);t&&r&&r.track(t)}),Jn)},a.sendCustomerContent=function(e){return Vn((function(){var t=a.getOneDSCustomerContent(e);t&&o&&o.track(t)}),Jn)},a.addPersistentDataFields=function(e){s.addDataFields(e)},a.flush=function(e){r&&r.flush(e)},a.shutdown=function(){try{r&&r.shutdown()}catch(e){Object(l.b)(0,2,(function(){return"An error occurred on shutdown"}))}};var d=[s];if(n.plugins&&d.push.apply(d,n.plugins),!n.endpointUrl)throw new Error("Missing Endpoint Url");return r=f(n,"f998cc5ba4d448d6a1e8e913ff18be94-dd122e0a-fcf8-4dc5-9dbb-6afac5325183-7405",n.endpointUrl,d),n.enableCustomerContent&&n.endpointUrl===c.a.PUBLIC&&(o=f(n,Un,c.a.CUSTOMER_CONTENT,d)),n.disableStatsTracking||(u(r),u(o)),a.addPersistentDataFields(t),a}return Object(i.c)(t,e),t}(Qn),$n="PageView",Yn="Action",er="Diagnostic",tr="Error",nr="Area",rr="SubArea",ir="PageName",or="PageType";function ar(e){return e.join(".")}var sr=new RegExp("[a-zA-Z0-9_\\-\\.]+(@|%40|%2540)[a-zA-Z0-9_\\-\\.]+\\.[a-zA-Z]{2,63}","gm"),ur=new RegExp("file(:|%3A|%253A).*","gim"),cr=new RegExp("([&?]q=)(.+?)(?=[&].*| |, |$)","gmi");function lr(e){return e?e.replace(/[\n\r\t\b]/gm,"").replace(sr,"email_removed").replace(ur,"file_removed").replace(cr,"$1query_removed"):e}function fr(){var e={keyword:"Other",deviceType:"Other"},t=window.navigator.userAgent.toLowerCase();return[{keyword:"Windows NT",deviceType:"PC"},{keyword:"Windows XP",deviceType:"PC"},{keyword:"Macintosh",deviceType:"Mac"},{keyword:"Windows Phone",deviceType:"WindowsPhone"},{keyword:"iPad",deviceType:"iPad"},{keyword:"iPhone",deviceType:"iPhone"},{keyword:"Android",deviceType:"AndroidPhone"},{keyword:"Linux",deviceType:"Linux"},{keyword:"CrOS",deviceType:"Chromebook"}].some((function(n){return-1!==t.indexOf(n.keyword.toLowerCase())&&(e=n,!0)})),e.deviceType}var dr=function(){function e(){}return e.prototype.initializeUnAuthOTel=function(e){if(e.oTelEnabled&&e.oTelAriaTenant&&!this.unAuthOtelLogger){this.nameSpace=e.oTelAriaNameSpace,this.eventCategoryConfig=e.eventCategoryConfig,this.unAuthOtelLogger=new o.a,this.unAuthOtelLogger.setTenantToken(e.oTelAriaNameSpace,e.oTelAriaTenant,a.b);var t=this.getPartAFields(e.appName,e.appPlatform,e.appWorkload,e.bundleBuildDate,e.correlationId,e.deploymentEnvironment,e.domainOrigin,e.flights,e.isCorpNet,e.isTestTraffic,e.sessionId,e.serverLocation,e.requestOrigin),n=this.getOneDsSink(t,e.deploymentEnvironment);this.unAuthOtelLogger.addSink(n)}},e.prototype.initializeAuthOTel=function(e){if(!e.oTelEnabled||!e.oTelAriaTenant||this.authOtelLogger)return Promise.resolve();this.nameSpace=e.oTelAriaNameSpace,this.eventCategoryConfig=e.eventCategoryConfig,this.authOtelLogger=new o.a,this.authOtelLogger.setTenantToken(e.oTelAriaNameSpace,e.oTelAriaTenant,a.b);var t=this.getPartAFields(e.appName,e.appPlatform,e.appWorkload,e.bundleBuildDate,e.correlationId,e.deploymentEnvironment,e.domainOrigin,e.flights,e.isCorpNet,e.isTestTraffic,e.sessionId,e.serverLocation,e.requestOrigin,e.identity),n=this.getOneDsSink(t,e.deploymentEnvironment);return this.authOtelLogger.addSink(n),Promise.resolve()},e.prototype.logEvent=function(e,t,n,r){var i=null!=r?r:0,o=this.getAppSecurityLevel();if((n?this.unAuthOtelLogger:this.authOtelLogger)&&this.isEligible(t)){if(i>o||window.disableLogs)return;var a=[this.nameSpace,e].join("."),s=this.convertToDataFields(t);this.sendTelemetryEvent(n?this.unAuthOtelLogger:this.authOtelLogger,a,s,2,110)}},e.prototype.logPageView=function(e,t){var n,r,i={},o=null!==(n=e.securityThreshold)&&void 0!==n?n:0,a=this.getAppSecurityLevel();i.EventCategory="PageView";var s=void 0;if(e.pageName&&(t?this.unAuthOtelLogger:this.authOtelLogger)&&this.eventCategoryConfig.pageViewEnabled){if(o>a||window.disableLogs)return;i.EventName=null!==(r=e.eventName)&&void 0!==r?r:"",i[ar([$n,ir])]=e.pageName,i[ar([$n,or])]=this.getPageType(e.pageType),i[ar([$n,"IsIntentional"])]=e.isIntentional,s=["PageView",e.pageName].join(".");var u=[this.nameSpace,s].join("."),c=this.convertToDataFields(i);this.sendTelemetryEvent(t?this.unAuthOtelLogger:this.authOtelLogger,u,c,2,110)}},e.prototype.logUnAuthUserAction=function(e){var t,n,r,i,o=this.getAppSecurityLevel(),a=null!==(t=e.securityThreshold)&&void 0!==t?t:0;if(this.unAuthOtelLogger&&this.eventCategoryConfig.actionEnabled){if(a>o||window.disableLogs)return;var s={EventCategory:"Action"};s[ar([Yn,"Type"])]=null!==(n=e.type)&&void 0!==n?n:"Click",s[ar([Yn,"Id"])]=e.id,s[ar([Yn,nr])]=e.area,s[ar([Yn,rr])]=null!==(r=e.subArea)&&void 0!==r?r:"Other",s[ar([Yn,"Result"])]=e.result,s[ar([Yn,"Target"])]=e.target,s[ar([Yn,"TargetId"])]=null!==(i=e.targetId)&&void 0!==i?i:"",s[ar([Yn,ir])]=e.pageName,s[ar([Yn,or])]=this.getPageType(e.pageType);var u=["Action",e.result,e.target].join("."),c=[this.nameSpace,u].join("."),l=this.convertToDataFields(s);this.sendTelemetryEvent(this.unAuthOtelLogger,c,l,2,110)}},e.prototype.logDiagnostic=function(e,t,n){var r,i,o={},a=null!=n?n:0,s=this.getAppSecurityLevel(),u=void 0;if((t?this.unAuthOtelLogger:this.authOtelLogger)&&this.eventCategoryConfig.diagnosticEnabled){if(a>s||window.disableLogs)return;for(var c in o.EventName=e.eventName,o.EventCategory="Diagnostic",e.params)o[ar([er,c])]="string"==typeof e[c]?lr(e.params[c]):e.params[c];o[ar([er,nr])]=null!==(r=e.area)&&void 0!==r?r:"",o[ar([er,rr])]=null!==(i=e.subArea)&&void 0!==i?i:"",u="Diagnostic";var l=[this.nameSpace,u].join("."),f=this.convertToDataFields(o);this.sendTelemetryEvent(t?this.unAuthOtelLogger:this.authOtelLogger,l,f,2,110)}},e.prototype.logError=function(e,t,n){var r,i,o,a,s={},u=null!=n?n:0,c=this.getAppSecurityLevel(),l=void 0;if((t?this.unAuthOtelLogger:this.authOtelLogger)&&this.eventCategoryConfig.errorEnabled){if(u>c||window.disableLogs)return;s.EventName=e.eventName,s.EventCategory="Error",s[ar([tr,"ErrorType"])]=null!==(r=e.errorType)&&void 0!==r?r:"",s[ar([tr,nr])]=null!==(i=e.area)&&void 0!==i?i:"",s[ar([tr,rr])]=null!==(o=e.subArea)&&void 0!==o?o:"",s[ar([tr,"ErrorCategory"])]=null!==(a=e.errorCategory)&&void 0!==a?a:"",e.occurrenceCount&&(s[ar([tr,"OccurrenceCount"])]=e.occurrenceCount),l="Error";var f=[this.nameSpace,l].join("."),d=this.convertToDataFields(s);this.sendTelemetryEvent(t?this.unAuthOtelLogger:this.authOtelLogger,f,d,2,110)}},e.prototype.logBootError=function(e,t,n){var r={};n&&(r.ResourceUrl=n),t&&(r.Details=lr(t)),this.logError({eventName:e},!1),this.logDiagnostic({eventName:e,params:r},!1)},e.prototype.logAppBundleError=function(e){var t=this.getCDNResourceDetails(e);this.logBootError("App_Bundle_Parsing_Error",JSON.stringify(t))},e.prototype.getCDNResourceDetails=function(e){var t=[];if(performance&&performance.getEntriesByType){var n=performance.getEntriesByType("resource");if(n)for(var r=0;r<n.length;r++){var i=n[r];if(("link"===i.initiatorType||"script"===i.initiatorType)&&void 0!==i.transferSize&&void 0!==i.decodedBodySize&&i.name&&i.name.indexOf(e)>=0){var o=i.name.split("/"),a=o.length>0?o[o.length-1]:"",s=i.transferSize,u=i.decodedBodySize;t.push({name:a,tSize:s,dSize:u})}}}return t},e.prototype.isEligible=function(e){switch(e.EventCategory){case"Action":return this.eventCategoryConfig.actionEnabled;case"Diagnostic":return this.eventCategoryConfig.diagnosticEnabled;case"Error":return this.eventCategoryConfig.errorEnabled;case"Feature":return this.eventCategoryConfig.featureEnabled;case"Impression":return this.eventCategoryConfig.impressionEnabled;case"PageView":return this.eventCategoryConfig.pageViewEnabled;case"Performance":return this.eventCategoryConfig.perfEnabled;case"Request":return this.eventCategoryConfig.requestEnabled;default:return!1}},e.prototype.getAppSecurityLevel=function(){return"number"==typeof window.windowsDataSecuritySetting?window.windowsDataSecuritySetting:3},e.prototype.sendTelemetryEvent=function(e,t,n,r,i){e.sendTelemetryEvent({eventName:t,dataFields:n,eventFlags:{dataCategories:r,diagnosticLevel:i}})},e.prototype.getPartAFields=function(e,t,n,r,o,a,c,l,f,d,v,p,g,h){var y=[r.split(" ")[0].split("-").join(""),"0"].join("."),m=Object(i.e)(s.b.getFields({platform:t,name:e,version:y}),s.c.getFields({id:o}),[Object(u.c)(ar(["Release","AudienceGroup"]),this.getReleaseAudienceGroup(a,f,d)),Object(u.c)("DeploymentEnvironment",a)]);if(h){var b=null==h?void 0:h.puid,C="";b&&(C=(null==h?void 0:h.isMsa)?"MsaPuid":"OrgIdPuid"),m.push.apply(m,s.d.getFields({primaryIdentityHash:b,primaryIdentitySpace:C,tenantId:null==h?void 0:h.tenantId,tenantGroup:(null==h?void 0:h.isMsa)?"Consumer":"Commercial",isAnonymous:!1}))}else m.push.apply(m,s.d.getFields({isAnonymous:!0}));var T=[Object(u.c)("EventSchemaVersion","1.0.0"),Object(u.c)("RequestOrigin",g),Object(u.c)("BrowserSessionId",v),Object(u.c)("AppWorkload",n),Object(u.c)("Geo",p),Object(u.c)("DeviceType",fr()),Object(u.c)("Flights",l),Object(u.c)("DomainOrigin",c)];return Object(i.e)(m,T)},e.prototype.getReleaseAudienceGroup=function(e,t,n){if(n)return"Automation";switch(e){case"dev":case"ppe":case"prodprv":return"Automation";case"prod":case"bfprod":case"pfprod":case"tbprod":case"unprod":case"usprod":return t?"Microsoft":"Production";default:return"Automation"}},e.prototype.getOneDsEndpoint=function(e){switch(e){case"pfprod":return c.a.USGOV_DOD;case"tbprod":return c.a.USGOV_DOJ;default:return c.a.PUBLIC}},e.prototype.getOneDsSink=function(e,t){return new Zn(e,{endpointUrl:this.getOneDsEndpoint(t)})},e.prototype.convertToDataFields=function(e){return Object.keys(e).filter((function(t){return"number"==typeof e[t]||"boolean"==typeof e[t]||"string"==typeof e[t]})).map((function(t){var n=e[t];switch(typeof n){case"number":return Object(u.b)(t,n);case"boolean":return Object(u.a)(t,n);case"string":return Object(u.c)(t,n)}}))},e.prototype.getPageType=function(e){switch(e){case"SignoutUserView":return"SignOut";case"ReturningUserView":return"Returning";case"NewUserView":return"New";default:return"Other"}},e}();!function(){window.standaloneOteLogger=new dr}()},I4e3:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n("ogkr"),i=null;function o(e){return void 0===e&&(e=!0),i&&e||(typeof globalThis!==r.l&&globalThis&&(i=globalThis),typeof self!==r.l&&self&&(i=self),typeof window!==r.l&&window&&(i=window),typeof global!==r.l&&global&&(i=global)),i}function a(e){throw new TypeError(e)}function s(e){var t=r.c;if(t)return t(e);if(null==e)return{};var n=typeof e;function i(){}return n!==r.j&&n!==r.h&&a("Object prototype may only be an Object:"+e),i[r.k]=e,new i}},J78o:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("bb6g"),i=n("aCzR"),o=n("av1u"),a=n("bgLm"),s=function(){return 1e3*Date.now()};"object"==typeof window&&"object"==typeof window.performance&&"now"in window.performance&&(s=function(){return 1e3*Math.floor(window.performance.now())});var u,c=function(e){var t,n=s(),r=Object(i.c)(e.telemetryEvent);return{cv:e.parentCv.getNext(),eventName:e.telemetryEvent.eventName,dataFields:r.dataFields,eventFlags:r.eventFlags,telemetryProperties:r.telemetryProperties,createChildActivity:function(t){return c({telemetryEvent:t,sendTelemetryEvent:e.sendTelemetryEvent,parentCv:this.cv})},setResult:function(e,t,n){this.result={code:e,type:t,tag:n}},endNow:function(){if(!t){void 0===this.success&&void 0===this.result&&Object(a.b)(1,0,(function(){return"Activity does not have success or result set"}));var r=s();t=!0;var i={duration:r-n,count:1,aggMode:0,cV:this.cv.value,success:this.success,result:this.result},u=this.eventContract&&this.eventContract.dataFields?this.eventContract.dataFields:[];return u.push.apply(u,o.a.getFields(i)),this.eventContract={name:o.a.contractName,dataFields:u},e.sendTelemetryEvent(this)}Object(a.b)(0,0,(function(){return"Already ended"}))}}},l=n("3M/p"),f=function(){function e(e){this.value=e,this.nextChild=0}return e.prototype.getNext=function(){return new e(this.value+"."+ ++this.nextChild)},e}(),d=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.baseCv=function(){if(!u){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=[],n=0;n<22;n++)t.push(e.charAt(Math.floor(Math.random()*e.length)));u=new f(t.join(""))}return u}(),i}return Object(r.c)(t,e),t.prototype.createActivity=function(e){return c({sendTelemetryEvent:this.sendTelemetryEvent.bind(this),telemetryEvent:e,parentCv:this.baseCv})},t.prototype.sendActivity=function(e,t,n,r){return this.sendTelemetryEvent({eventName:e,eventContract:{name:o.a.contractName,dataFields:o.a.getFields(t)},dataFields:n,eventFlags:r})},t.prototype.sendError=function(e){var t=function(e){var t=[];return t.push(Object(l.c)("Error.ErrorGroup",e.errorGroup)),t.push(Object(l.b)("Error.Tag",e.tag)),void 0!==e.code&&t.push(Object(l.b)("Error.Code",e.code)),void 0!==e.id&&t.push(Object(l.b)("Error.Id",e.id)),void 0!==e.count&&t.push(Object(l.b)("Error.Count",e.count)),t}(e.error);return null!=e.dataFields&&t.push.apply(t,e.dataFields),this.sendTelemetryEvent({eventName:e.eventName,dataFields:t,eventFlags:e.eventFlags})},t.prototype.createCustomerContentActivity=function(e){return c({sendTelemetryEvent:this.sendCustomerContent.bind(this),telemetryEvent:e,parentCv:this.baseCv})},t}(i.a)},aCzR:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l}));var r,i=n("bb6g"),o=n("bgLm"),a={};!function(e){var t=/^Office(\.[A-Z][a-zA-Z0-9]*){2,}$/,n=/^[a-zA-Z0-9_\.]{1,95}$/;function r(e){return n.test(e)}function i(e){e&&e.forEach((function(e){if("string"!=typeof e.name||!r(e.name))throw new Error("Invalid dataField name");2===e.dataType&&o(e.value)}))}function o(e){if("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e<-9007199254740991||e>9007199254740991)throw new Error("Invalid integer "+JSON.stringify(e))}e.validateTelemetryEvent=function(e){if(!function(e){return!(!e||e.length>98)&&t.test(e)}(e.eventName))throw new Error("Invalid eventName");var n=e.eventContract;if(n){if(n.name&&!r(n.name))throw new Error("Invalid eventContract");i(n.dataFields)}i(e.dataFields)},e.validateInt=o}(r||(r={}));var s=n("3M/p"),u=-1;function c(e){var t={eventName:e.eventName,eventFlags:e.eventFlags||{},telemetryProperties:e.telemetryProperties?Object(i.a)({},e.telemetryProperties):{},dataFields:e.dataFields?e.dataFields.slice():[],timestamp:e.timestamp||(new Date).getTime()};return e.eventContract&&(t.eventContract={name:e.eventContract.name,dataFields:e.eventContract.dataFields.slice()}),t}var l=function(){function e(e,t,n){var r,o,a;this.telemetrySinks=[],this.persistentDataFields=[],this.partAFields=[],this.eventQueue=[],this.config=n||{},e&&(this.telemetrySinks=e.telemetrySinks,(r=this.persistentDataFields).push.apply(r,e.persistentDataFields),this.config=Object(i.a)(Object(i.a)({},e.getConfig()),this.config),(o=this.partAFields).push.apply(o,e.partAFields)),t&&(a=this.persistentDataFields).push.apply(a,t)}return e.prototype.sendTelemetryEvent=function(e){var t=c(e),n=t.telemetryProperties;if(n.customerContentVersion||n.customerContentType)Object(o.b)(0,0,(function(){return"Customer content"}));else{if(!n.ariaTenantToken||!n.nexusTenantToken){var r=function(e){for(var t=e.length;t>0;){var n=e.substr(0,t);if(a[n])return a[n];t=e.lastIndexOf(".",t-1)}}(t.eventName);if(!r)return void Object(o.b)(0,0,(function(){return"No tenant token: "+e.eventName}));n.ariaTenantToken=r.ariaTenantToken,n.nexusTenantToken=r.nexusTenantToken}this.sendTelemetryEventInternal(t)}},e.prototype.sendCustomerContent=function(e){var t=c(e),n=t.telemetryProperties;return(!n.customerContentVersion||n.customerContentVersion>1)&&(n.customerContentVersion=1),n.ariaTenantToken=void 0,n.nexusTenantToken=void 0,t.dataFields.push(Object(s.b)("EventContent.Type",2)),this.sendTelemetryEventInternal(t)},e.prototype.sendTelemetryEventInternal=function(e){try{if(0===this.telemetrySinks.length)return void(this.config.enableQueue&&this.eventQueue.length<1e3?this.eventQueue.push(e):Object(o.b)(1,0,(function(){return"No telemetry sinks are attached."})));this.processTelemetryEvent(e)}catch(e){return void Object(o.a)(0,"SendTelemetryEvent",e)}try{this.telemetrySinks.forEach((function(t){var n=e.telemetryProperties;n.customerContentVersion&&n.customerContentType?t.sendCustomerContent&&t.sendCustomerContent(e):t.sendTelemetryEvent(e)}))}catch(e){}},e.prototype.processTelemetryEvent=function(e){var t,n,i;if(e.dataFields&&(null===(i=e.dataFields)||void 0===i||i.unshift(Object(s.c)("OTelJS.Version","4.8.14")),this.persistentDataFields&&(t=e.dataFields).unshift.apply(t,this.persistentDataFields)),this.partAFields.length>0){var o=e.eventContract||{name:"",dataFields:[]};(n=o.dataFields).push.apply(n,this.partAFields),e.eventContract=o}this.config.disableValidation||r.validateTelemetryEvent(e)},e.prototype.addSink=function(e){this.telemetrySinks.push(e),this.flushQueue()},e.prototype.flushQueue=function(){var e=this,t=this.eventQueue;this.eventQueue=[],this.telemetrySinks.length>0&&t.forEach((function(t){e.sendTelemetryEventInternal(t)}))},e.prototype.setTenantToken=function(e,t,n){!function(e,t){"Office."===e.substring(0,7)&&"."!==e[e.length-1]?a[e]=t:Object(o.b)(0,0,(function(){return"Namespace: "+e}))}(e,{ariaTenantToken:t,nexusTenantToken:n})},e.prototype.cloneEvent=function(e){return c(e)},e.prototype.getConfig=function(){return this.config},e}()},av1u:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return f}));var r=n("3M/p");function i(e,t){return e?e+"."+t:t}function o(e,t,n,o){n&&o.push(Object(r.c)(""+i(e,t),n))}function a(e,t,n,o){"boolean"==typeof n&&o.push(Object(r.a)(""+i(e,t),n))}function s(e,t,n,o){"number"==typeof n&&o.push(Object(r.b)(""+i(e,t),n))}var u={contractName:"Office.System.Activity",getFields:function(e){var t="Activity",n=[];return o(t,"CV",e.cV,n),s(t,"Duration",e.duration,n),s(t,"Count",e.count,n),s(t,"AggMode",e.aggMode,n),a(t,"Success",e.success,n),e.result&&n.push.apply(n,function(e){var t="Activity.Result",n=[];return s(t,"Code",e.code,n),o(t,"Type",e.type,n),s(t,"Tag",e.tag,n),a(t,"IsExpected",e.isExpected,n),n.push(Object(r.c)("zC.Activity.Result","Office.System.Result")),n}(e.result)),n.push(Object(r.c)("zC.Activity",this.contractName)),n}},c={getFields:function(e){var t="User",n=[];return o(t,"PrimaryIdentityHash",e.primaryIdentityHash,n),o(t,"PrimaryIdentitySpace",e.primaryIdentitySpace,n),o(t,"TenantId",e.tenantId,n),o(t,"TenantGroup",e.tenantGroup,n),a(t,"IsAnonymous",e.isAnonymous,n),n}},l={getFields:function(e){var t="App",n=[];return o(t,"Name",e.name,n),o(t,"Platform",e.platform,n),o(t,"Version",e.version,n),n}},f={getFields:function(e){var t=[];return o("Session","Id",e.id,t),t}}},bb6g:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}},bgLm:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=function(){var e=[];return{fireEvent:function(t){e.forEach((function(e){return e(t)}))},addListener:function(t){t&&e.push(t)}}}();function i(e,t,n){r.fireEvent({level:e,category:t,message:n})}function o(e,t,n){i(0,e,(function(){var e=n instanceof Error?n.message:"";return t+": "+e}))}},f2uY:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u}));var r=n("ogkr"),i=n("I4e3"),o=((Object(i.a)()||{}).Symbol,(Object(i.a)()||{}).Reflect,r.a||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])r.f[r.i].call(t,o)&&(e[o]=t[o]);return e}),a=function(e,t){return(a=r.b.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[r.i](n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}typeof t!==r.h&&null!==t&&Object(i.c)("Class extends value "+String(t)+" is not a constructor or null"),a(e,t),e[r.k]=null===t?Object(i.b)(t):(n[r.k]=t[r.k],new n)}function u(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}},ogkr:function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"j",(function(){return i})),n.d(t,"l",(function(){return o})),n.d(t,"k",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return p}));var r="function",i="object",o="undefined",a="prototype",s="hasOwnProperty",u="default",c=Object,l=c[a],f=c.assign,d=c.create,v=c.defineProperty,p=l[s]},svub:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.USGOV_DOD="https://pf.events.data.microsoft.com/OneCollector/1.0/",e.USGOV_DOJ="https://tb.events.data.microsoft.com/OneCollector/1.0/",e.PUBLIC="https://browser.events.data.microsoft.com/OneCollector/1.0/",e.CUSTOMER_CONTENT="https://office-c.events.data.microsoft.com/OneCollector/1.0/",e.EUDB="https://eu-office.events.data.microsoft.com/OneCollector/1.0/"}(r||(r={}))}});
//# sourceMappingURL=otel-logger-5c098dbfccb4b0fc9a41.js.map